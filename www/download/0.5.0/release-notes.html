<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.5.0 Release Notes &middot; The Zig Programming Language</title>
    <link rel="icon" href="../../zig-icon.svg">
    <style type="text/css">
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        line-height: 1.45;
        margin-left: 0;
        margin-right: 0;
      }
      p {
        margin: 0.8em 0;
      }

      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        color: #666;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #666;
      }

      h1 { font-size: 2.0em; }
      
      h2 { font-size: 1.5em; }
      
      h3 { font-size: 1.25em; }

      h4 { font-size: 1.0em; }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      a {
        color: #2A6286;
      }
      
      a:not(:hover) {
        text-decoration: none;
      }

      th, td {
        padding: 0.6em;
        text-align: left;
      }
      
      td {
        font-size: 0.96em;
      }
      
      th {
        border-bottom: 2px solid #f2f3f3;
      }
      
      tr:nth-child(even) {
        background: #f2f3f3;
      }
      
      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 0.2em;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        tr:nth-child(even) {
          background: #1e1e1e;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1, h2, h3, h4, h5 {
          color: #aaa;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
      }
    </style>
  </head>
  <!--
                          oooo$$$$$$$$$$$$oooo
                      oo$$$$$$$$$$$$$$$$$$$$$$$$o
                   oo$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o         o$   $$ o$
   o $ oo        o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o       $$ $$ $$o$
oo $ $ "$      o$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$o       $$$o$$o$
"$$$$$$o$     o$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$o    $$$$$$$$
  $$$$$$$    $$$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$$$$$$$$$$$$$$
  $$$$$$$$$$$$$$$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$$$$$$  """$$$
   "$$$""""$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$
    $$$   o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$o
   o$$"   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$       $$$o
   $$$    $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$" "$$$$$$ooooo$$$$o
  o$$$oooo$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   o$$$$$$$$$$$$$$$$$
  $$$$$$$$"$$$$   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     $$$$""""""""
 """"       $$$$    "$$$$$$$$$$$$$$$$$$$$$$$$$$$$"      o$$$
            "$$$o     """$$$$$$$$$$$$$$$$$$"$$"         $$$
              $$$o          "$$""$$$$$$""""           o$$$
               $$$$o                 oo             o$$$"
                "$$$$o      o$$$$$$o"$$$$o        o$$$$
                  "$$$$$oo     ""$$$$o$$$$$o   o$$$$""  
                     ""$$$$$oooo  "$$$o$$$$$$$$$"""
                        ""$$$$$$$oo $$$$$$$$$$       
                                """"$$$$$$$$$$$        
                                    $$$$$$$$$$$$       
                                     $$$$$$$$$$"      
                                      "$$$""""
  -->
  <body>
    <div id="contents">
    <a href="/"><img src="../../zig-logo.svg"></a>
    <h1>0.5.0 Release Notes (DRAFT, please don't publish yet)</h1>
    <p>
    <a href="/download">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language designed for <strong>robustness</strong>,
    <strong>optimality</strong>, and <strong>maintainability</strong>.
    Zig is aggressively pursuing its goal of overthrowing C as the de facto language for system programming.
    Zig intends to be so practical that people find themselves using it, because it "just works".
    </p>
    <p>
    This release features <strong>6 months of work</strong> and
    changes from <strong>67 different contributors</strong>, spread among
    <strong>1534 commits</strong>.
    </p>
    <p>
    Special thanks to my
    <a href="https://github.com/users/andrewrk/sponsorship">sponsors who provide financial support</a>.
    You're making Zig sustainable.
    </p>

    <h1 id="Table-of-Contents"><a href="#toc-Table-of-Contents">Table of Contents</a> <a class="hdr" href="#Table-of-Contents">ยง</a></h1>

    

    <ul>
        <li><a id="toc-Table-of-Contents" href="#Table-of-Contents">Table of Contents</a></li>
        <li><a id="toc-LLVM-9" href="#LLVM-9">LLVM 9</a></li>
        <li><a id="toc-Support-Table" href="#Support-Table">Support Table</a>
        <ul>
            <li><a id="toc-Tier-System" href="#Tier-System">Tier System</a>
            <ul>
                <li><a id="toc-Tier-1-Support" href="#Tier-1-Support">Tier 1 Support</a></li>
                <li><a id="toc-Tier-2-Support" href="#Tier-2-Support">Tier 2 Support</a></li>
                <li><a id="toc-Tier-3-Support" href="#Tier-3-Support">Tier 3 Support</a></li>
                <li><a id="toc-Tier-4-Support" href="#Tier-4-Support">Tier 4 Support</a></li>
            </ul></li>
            <li><a id="toc-RISC-V-Support" href="#RISC-V-Support">RISC-V Support</a></li>
            <li><a id="toc-64-bit-ARM-Support" href="#64-bit-ARM-Support">64-bit ARM Support</a></li>
            <li><a id="toc-32-bit-ARM-Support" href="#32-bit-ARM-Support">32-bit ARM Support</a></li>
            <li><a id="toc-MSYS2-Support" href="#MSYS2-Support">MSYS2 Support</a></li>
            <li><a id="toc-FreeBSD-Support" href="#FreeBSD-Support">FreeBSD Support</a></li>
            <li><a id="toc-WebAssembly-Support" href="#WebAssembly-Support">WebAssembly Support</a></li>
            <li><a id="toc-UEFI-Support" href="#UEFI-Support">UEFI Support</a></li>
            <li><a id="toc-iOS-Support" href="#iOS-Support">iOS Support</a></li>
            <li><a id="toc-MIPS-Support" href="#MIPS-Support">MIPS Support</a></li>
            <li><a id="toc-Android-Support" href="#Android-Support">Android Support</a></li>
        </ul></li>
        <li><a id="toc-Language-Changes" href="#Language-Changes">Language Changes</a>
        <ul>
            <li><a id="toc-usingnamespace" href="#usingnamespace">usingnamespace</a></li>
            <li><a id="toc-External-Thread-Local-Variables" href="#External-Thread-Local-Variables">External Thread Local Variables</a></li>
            <li><a id="toc-hasField-and-hasDecl" href="#hasField-and-hasDecl">@hasField and @hasDecl</a></li>
            <li><a id="toc-C-Pointers-Support-Optional-Syntax" href="#C-Pointers-Support-Optional-Syntax">C Pointers Support Optional Syntax</a></li>
            <li><a id="toc-Switching-on-Error-Sets" href="#Switching-on-Error-Sets">Switching on Error Sets</a></li>
            <li><a id="toc-Bit-Manipulation-Builtin-Functions" href="#Bit-Manipulation-Builtin-Functions">Bit Manipulation Builtin Functions</a></li>
            <li><a id="toc-Undeclared-Identifiers-in-Compile-Time-Dead-Branches" href="#Undeclared-Identifiers-in-Compile-Time-Dead-Branches">Undeclared Identifiers in Compile-Time Dead Branches</a></li>
            <li><a id="toc-Default-Struct-Field-Values" href="#Default-Struct-Field-Values">Default Struct Field Values</a></li>
            <li><a id="toc-Array-Literal-Syntax" href="#Array-Literal-Syntax">Array Literal Syntax</a></li>
            <li><a id="toc-importroot" href="#importroot">@import("root")</a></li>
            <li><a id="toc-mulAdd" href="#mulAdd">@mulAdd</a></li>
            <li><a id="toc-Builtins-for-Math-Functions" href="#Builtins-for-Math-Functions">Builtins for Math Functions</a></li>
            <li><a id="toc-Result-Location-Semantics" href="#Result-Location-Semantics">Result Location Semantics</a></li>
            <li><a id="toc-unionInit" href="#unionInit">@unionInit</a></li>
            <li><a id="toc-Unicode-Escapes" href="#Unicode-Escapes">Unicode Escapes</a></li>
            <li><a id="toc-Async-Functions" href="#Async-Functions">Async Functions</a></li>
            <li><a id="toc-SIMD" href="#SIMD">SIMD</a></li>
            <li><a id="toc-Alignment-of-Struct-Fields" href="#Alignment-of-Struct-Fields">Alignment of Struct Fields</a></li>
            <li><a id="toc-Type" href="#Type">@Type</a></li>
            <li><a id="toc-Variable-Declarations-as-Methods" href="#Variable-Declarations-as-Methods">Variable Declarations as Methods</a></li>
        </ul></li>
        <li><a id="toc-Standard-Library" href="#Standard-Library">Standard Library</a>
        <ul>
            <li><a id="toc-Debug-Info-and-Stack-Traces" href="#Debug-Info-and-Stack-Traces">Debug Info and Stack Traces</a></li>
            <li><a id="toc-Formatted-Printing" href="#Formatted-Printing">Formatted Printing</a></li>
            <li><a id="toc-Math" href="#Math">Math</a></li>
            <li><a id="toc-Thread-Local-Storage" href="#Thread-Local-Storage">Thread Local Storage</a></li>
            <li><a id="toc-Reorganization-of-Operating-System-Abstractions" href="#Reorganization-of-Operating-System-Abstractions">Reorganization of Operating System Abstractions</a></li>
            <li><a id="toc-Recursive-Rewrite-of-Self-Hosted-Parser" href="#Recursive-Rewrite-of-Self-Hosted-Parser">Recursive Rewrite of Self-Hosted Parser</a>
            <ul>
                <li><a id="toc-Performance-Impact" href="#Performance-Impact">Performance Impact</a></li>
                <li><a id="toc-Readability-Impact" href="#Readability-Impact">Readability Impact</a></li>
            </ul></li>
            <li><a id="toc-Default-Segfault-Handler" href="#Default-Segfault-Handler">Default Segfault Handler</a></li>
            <li><a id="toc-HashMap-and-Hashing" href="#HashMap-and-Hashing">HashMap and Hashing</a></li>
        </ul></li>
        <li><a id="toc-Documentation" href="#Documentation">Documentation</a></li>
        <li><a id="toc-zig-build" href="#zig-build">zig build</a></li>
        <li><a id="toc-zig-fmt" href="#zig-fmt">zig fmt</a></li>
        <li><a id="toc-libc" href="#libc">libc</a>
        <ul>
            <li><a id="toc-musl-1123" href="#musl-1123">musl 1.1.23</a></li>
            <li><a id="toc-glibc-230" href="#glibc-230">glibc 2.30</a></li>
            <li><a id="toc-Zig-ships-with-mingw-w64" href="#Zig-ships-with-mingw-w64">Zig ships with mingw-w64</a></li>
            <li><a id="toc-Freestanding-libc" href="#Freestanding-libc">Freestanding libc</a></li>
        </ul></li>
        <li><a id="toc-C-Translation" href="#C-Translation">C Translation</a>
        <ul>
            <li><a id="toc-Self-Hosted-C-Translation" href="#Self-Hosted-C-Translation">Self-Hosted C Translation</a></li>
        </ul></li>
        <li><a id="toc-compiler-rt" href="#compiler-rt">compiler-rt</a></li>
        <li><a id="toc-Test-Coverage" href="#Test-Coverage">Test Coverage</a></li>
        <li><a id="toc-Miscellaneous-Improvements" href="#Miscellaneous-Improvements">Miscellaneous Improvements</a>
        <ul>
            <li><a id="toc-Self-Hosted-d-File-Parsing" href="#Self-Hosted-d-File-Parsing">Self-Hosted .d File Parsing</a></li>
            <li><a id="toc-Binary-Size" href="#Binary-Size">Binary Size</a></li>
            <li><a id="toc-Self-Hosted-Installation-of-Library-Files" href="#Self-Hosted-Installation-of-Library-Files">Self-Hosted Installation of Library Files</a></li>
        </ul></li>
        <li><a id="toc-Bug-Fixes" href="#Bug-Fixes">Bug Fixes</a>
        <ul>
            <li><a id="toc-This-Release-Contains-Bugs" href="#This-Release-Contains-Bugs">This Release Contains Bugs</a></li>
        </ul></li>
        <li><a id="toc-Roadmap" href="#Roadmap">Roadmap</a>
        <ul>
            <li><a id="toc-Package-Manager-Status" href="#Package-Manager-Status">Package Manager Status</a></li>
            <li><a id="toc-Accepted-Proposals" href="#Accepted-Proposals">Accepted Proposals</a></li>
        </ul></li>
        <li><a id="toc-Active-Open-Source-Projects-Using-Zig" href="#Active-Open-Source-Projects-Using-Zig">Active Open-Source Projects Using Zig</a></li>
        <li><a id="toc-Funding-Status" href="#Funding-Status">Funding Status</a></li>
        <li><a id="toc-Thank-You-Sponsors" href="#Thank-You-Sponsors">Thank You Sponsors!</a></li>
    </ul>

    

    <h1 id="LLVM-9"><a href="#toc-LLVM-9">LLVM 9</a> <a class="hdr" href="#LLVM-9">ยง</a></h1>

    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/9.0.0/docs/ReleaseNotes.html">LLVM 9</a>.
    Zig operates in lockstep with LLVM; Zig 0.5.0 is not compatible with LLVM 8.
    </p>
    <p>
    Notably this means that Zig now has <a href="#RISC-V-Support">RISC-V Support</a>.
    </p>
    <p>
    Zig also gains <a href="https://emscripten.org/">emscripten</a> as a target OS.
    <a href="https://github.com/emscripten-core/emscripten/issues/6432">emscripten cannot self-host yet</a>,
    but when it can, it will be interesting to explore this as an option for a Zig-in-the-browser sandbox,
    using <a href="#WebAssembly-Support">WebAssembly</a>.
    </p>
    

    <h1 id="Support-Table"><a href="#toc-Support-Table">Support Table</a> <a class="hdr" href="#Support-Table">ยง</a></h1>

    <p>
    A <a href="../../#Support-Table">support table for master branch</a> can be found on the home page.
    Here the support table for 0.5.0 is reproduced:
    </p>
<table>
<thead>
<tr>
<th></th>
<th>free standing</th>
<th>Linux 3.16+</th>
<th>macOS 10.13+</th>
<th>Windows 7+</th>
<th>FreeBSD 12.0+</th>
<th>NetBSD 8.0+</th>
<th>UEFI</th>
<th>WASI</th>
<th>Android</th>
</tr>
</thead>
<tbody>
<tr>
<td>x86_64</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><nobr><a href="#Tier-2-Support">Tier 2</a></nobr></td>
<td>N/A</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
</tr>
<tr>
<td>wasm32</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td>N/A</td>
</tr>
<tr>
<td>arm64</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
</tr>
<tr>
<td>arm32</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
</tr>
<tr>
<td>mips32 LE</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>i386</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
</tr>
<tr>
<td>bpf</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>hexagon</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>mips32 BE</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>mips64</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>amdgcn</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>sparc</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>s390x</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>lanai</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>powerpc32</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>powerpc64</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>wasm64</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
</tr>
<tr>
<td>avr</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>riscv32</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>riscv64</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>xcore</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>nvptx</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>msp430</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>r600</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>arc</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>tce</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>le</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>amdil</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>hsail</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>spir</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>kalimba</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>shave</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>renderscript</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>

    <h2 id="Tier-System"><a href="#toc-Tier-System">Tier System</a> <a class="hdr" href="#Tier-System">ยง</a></h2>


    <h3 id="Tier-1-Support"><a href="#toc-Tier-1-Support">Tier 1 Support</a> <a class="hdr" href="#Tier-1-Support">ยง</a></h3>

    <ul>
      <li>Not only can Zig generate machine code for these targets, but the standard
   library cross-platform abstractions have implementations for these targets.
   Thus it is practical to write a pure Zig application with no dependency on
   libc.</li>
      <li>The CI server automatically tests these targets on every commit to master
      branch, and updates <a href="/download">the download page</a> with links to pre-built binaries.</li>
      <li>These targets have debug info capabilities and therefore produce stack traces on failed assertions.
      </li>
      <li>libc is available for this target even when cross compiling.</li>
    </ul>
    

    <h3 id="Tier-2-Support"><a href="#toc-Tier-2-Support">Tier 2 Support</a> <a class="hdr" href="#Tier-2-Support">ยง</a></h3>

    <ul>
    <li> There may be some standard library implementations, but many abstractions
   will give an "Unsupported OS" compile error. One can link with libc or other
   libraries to fill in the gaps in the standard library.</li>
   <li> These targets are known to work, but are not automatically tested, so there
     are occasional regressions.</li>
   <li> Some tests may be disabled for these targets as we work toward Tier 1
     support.</li>
    </ul>
    

    <h3 id="Tier-3-Support"><a href="#toc-Tier-3-Support">Tier 3 Support</a> <a class="hdr" href="#Tier-3-Support">ยง</a></h3>

    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
   <li>Because Zig is based on LLVM, it has the capability to build for these
     targets, and LLVM has the target enabled by default.</li>
   <li>These targets are not frequently tested; one will likely need to contribute
     to Zig in order to build for these targets.</li>
   <li>The Zig compiler might need to be updated with a few things such as
     <ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>bootstrap code and default panic handler</li>
     </ul>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    

    <h3 id="Tier-4-Support"><a href="#toc-Tier-4-Support">Tier 4 Support</a> <a class="hdr" href="#Tier-4-Support">ยง</a></h3>

    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>LLVM may have the target as an experimental target, which means that you
   need to use Zig-provided binaries for the target to be available, or
   build LLVM from source with special configure flags. <code>zig targets</code> will
   display the target if it is available.</li>
   <li>This target may be considered deprecated by an official party,
     <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
     case this target will remain forever stuck in Tier 4.</li>
   <li>This target may only support <code>--emit asm</code> and cannot emit object files.</li>
    </ul>
    
    

    <h2 id="RISC-V-Support"><a href="#toc-RISC-V-Support">RISC-V Support</a> <a class="hdr" href="#RISC-V-Support">ยง</a></h2>

    <p>
    This release updates to <a href="#LLVM-9">LLVM 9</a>, <a href="#musl-1123">musl 1.1.23</a> with patches, and
    <a href="#glibc-230">glibc 2.30</a>. This plus updates to the <a href="#Standard-Library">Standard Library</a> means
    that Zig's (64-bit) RISC-V support has gone from <a href="#Tier-4-Support">Tier 4 Support</a> to
    <a href="#Tier-3-Support">Tier 3 Support</a> in this release.
    </p>
    <ul>
      <li>daurnimator updated riscv64 syscalls in the std lib.</li>
      <li>LemonBoy updated thread-local storage startup code to take into account DTP bias
          according to the RISCV ABI. He also corrected some of the bits in the std lib.
          Thanks to this the <a href="#compiler-rt">compiler-rt</a> tests are passing for RISC-V.
      </li>
    </ul>
    <p>
    RISC-V is a very flexible target, with features such as atomics, and even integer multiplication
    being optional. Since Zig does not yet have
    <a href="https://github.com/ziglang/zig/issues/2883">ability to specify target CPU features</a>,
    the default set of cross-compilation features are <code>"+a,+c,+d,+f,+m,+relax"</code>,
    which matches Clang.
    </p>
    <p>
    The RISC-V target does not yet pass Zig's test suite:
    </p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/3338">LLVM ERROR: Named registers not implemented for this target</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/3338">LLVM unable to perform f16 widening</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/3339">LLD silent failure linking behavior tests</a></li>
    </ul>
    <p>
    The next step for all these issues is to create test case reductions and then
    file upstream bug reports.
    </p>
    <p>
    However, I did work with <a href="https://github.com/users/richfelker/sponsorship">Rich Felker</a>
    to get musl building with Clang for the RISC-V target, which means that we can do this:
    </p>
    <p class="file">hello.c</p>
    <pre><code>#include &lt;stdio.h&gt;

int main(int argc, char **argv) {
    printf("Hello world\n");
    return 0;
}</code></pre>
<pre><code>$ zig build-exe --c-source hello.c -lc -target riscv64-linux-musl
$ qemu-riscv64 ./hello
Hello world</code></pre>
    <p>
    Zig 0.5.0 carries a few patches to musl which makes this work. A new musl release is expected soon which
    contains these patches.
    </p>
    <p>
    To be clear - the above simple example also works in Zig - it's just that all the language features
    such as <code class="zig"><span class="tok-type">f16</span></code> are not working, and there is no automated <a href="#Test-Coverage">Test Coverage</a>
    for this target.
    </p>
    <p class="file">hello.zig</p><pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() <span class="tok-type">void</span> {
    std.debug.warn(<span class="tok-str">&quot;Hello from zig\n&quot;</span>);
}</code></pre><pre><code class="shell">$ zig build-exe hello.zig -target riscv64-linux</code></pre>

<pre><code>$ qemu-riscv64 ./hello
Hello from zig</code></pre>
    <p>
    Although <a href="#glibc-230">glibc 2.30</a> gained RISC-V support, Zig is not able to build
    glibc for this target yet. See #3340 for more details. Looks like it could be
    as simple as importing a couple more .h files from the glibc source tree.
    </p>
    

    <h2 id="64-bit-ARM-Support"><a href="#toc-64-bit-ARM-Support">64-bit ARM Support</a> <a class="hdr" href="#64-bit-ARM-Support">ยง</a></h2>

    <p>LemonBoy worked on <a href="#Standard-Library">Standard Library</a> support for aarch64 during this release cycle:</p>
    <ul>
      <li>Several improvements to <a href="#Thread-Local-Storage">Thread Local Storage</a>.</li>
      <li>Fixed the definition of <code>epoll_*</code> struct on non x86_64 arches.</li>
      <li>Fixed some syscalls and flag definitions.</li>
    </ul>
    <p>
    After this work, and improvements made to <a href="#Test-Coverage">Test Coverage</a>, the following targets are now
    covered by the Zig test suite:
    </p>
    <ul>
      <li><strong>aarch64v8_5a-linux-none</strong> (no libc)</li>
      <li><strong>aarch64v8_5a-linux-musl</strong> (building <a href="#musl-1123">musl 1.1.23</a> from source,
        statically linking against it, and using it for OS APIs)</li>
      <li><strong>aarch64v8_5a-linux-gnu</strong> (building <a href="#glibc-230">glibc 2.30</a> from source,
        dynamically linking against it, and using it for OS APIs)</li>
    </ul>
    <p>
    This test coverage led to the following bug fixes:
    </p>
    <ul>
      <li>LemonBoy fixed a test on ARM due to the use of <code class="zig"><span class="tok-null">undefined</span></code> ptr. </li>
      <li>Fixed Linux stat struct on aarch64. The ABI was incorrect.</li>
      <li>Fixed <a href="#glibc-230">glibc 2.30</a> builds on aarch64-linux-gnu. There was a missing include path in the
        compilation line, leading to incorrect fstat ABI. #3291</li>
    </ul>
    <p>
    However, due to
    <a href="https://github.com/ziglang/zig/issues/3271">LLVM miscompiling trivial switch for AArch64</a>,
    some failing tests are disabled, which means 64-bit ARM remains a <a href="#Tier-2-Support">Tier 2 Support</a> target.
    The good news is we filed an <a href="https://bugs.llvm.org/show_bug.cgi?id=43383">LLVM bug report</a>,
    and it has already been solved in LLVM trunk, scheduled to be included in LLVM 9.0.1.
    </p>
    <p>
    After that, the only remaining issues standing in the way of
    <a href="https://github.com/ziglang/zig/issues/2443">Tier 1 Support for ARM 64-bit (aarch64) Linux</a>
    are:
    </p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/3282">When targeting AArch64, unable to widen cast f16 to f128</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/2934">fn return struct - aarch64 stack alignment exception</a></li>
      <li>Add <a href="#Test-Coverage">Test Coverage</a> for <a href="#Debug-Info-and-Stack-Traces">Debug Info and Stack Traces</a> for this target.</li>
      <li>Come up with a way for the Continuous Integration service to create 64-bit ARM binaries
        for the <a href="/download">download page</a>.</li>
    </ul>
    

    <h2 id="32-bit-ARM-Support"><a href="#toc-32-bit-ARM-Support">32-bit ARM Support</a> <a class="hdr" href="#32-bit-ARM-Support">ยง</a></h2>

    <p>
    Thanks to <a href="#compiler-rt">compiler-rt</a> improvements by vegecode and LemonBoy, Zig's
    32-bit ARM support is much stronger in version 0.5.0.
    </p>
    <p>
    Alongside these efforts, LemonBoy improved the <a href="#Standard-Library">Standard Library</a> by making
    I/O offsets and sizes <code class="zig"><span class="tok-type">u64</span></code> instead of <code class="zig"><span class="tok-type">usize</span></code>,
    decoupling the concepts of address-space size and file size. This solved many compile errors
    when trying to target 32-bit ARM, as well as any other 32-bit architecture. #637
    </p>
    <p>He also made several improvements to <a href="#Thread-Local-Storage">Thread Local Storage</a> for 32-bit ARM.</p>
    <p>Robin Voetter joined the Zig community during this release cycle, and hammered away
    at the <a href="#Standard-Library">Standard Library</a>:</p>
    <ul>
      <li>Added arm32 linux bits definitions and syscall conventions.</li>
      <li>TLS initialization, clone definition and _start functionality.</li>
      <li>Made <code class="zig">std.os.linux.mmap</code> use <code>SYS_mmap2</code> if it exists.</li>
      <li>Used <code>sys_*stat*64</code> instead of <code>sys_*stat*</code> where appropriate.</li>
      <li>Fixed overflow when calculating atime, ctime and mtime on File.stat().</li>
      <li>Fixed compilation error casting getEndPos to usize.</li>
      <li>Fixed preadv, preadv2, pwritev and pwritev2.</li>
      <li>Fixed seteuid and setegid.</li>
      <li>Replaced legacy 16-bit syscalls with 32-bit versions when appropriate.</li>
      <li>Added missing clobbers on arm-eabi and arm64 syscall conventions.</li>
    </ul>
    <p>
    After all these improvements, 32-bit ARM support is leveled-up to <a href="#Tier-2-Support">Tier 2 Support</a>.
    Along with improvements made to <a href="#Test-Coverage">Test Coverage</a>, the following targets are
    now covered by the Zig test suite:
    </p>
    <ul>
      <li><strong>armv8_5a-linux-none</strong> (no libc)</li>
      <li><strong>armv8_5a-linux-musl</strong> (building <a href="#musl-1123">musl 1.1.23</a> from source,
        statically linking against it, and using it for OS APIs)</li>
      <li><a href="https://github.com/ziglang/zig/issues/3287">armv8_5a-linux-gnu test coverage is not passing yet</a></li>
    </ul>
    <p>
    After updating to <a href="#musl-1123">musl 1.1.23</a>, Zig's <code>clone</code> on arm32 is updated to
    latest musl implementation.
    </p>
    <p>
    Remaining issues to solve in order to achieve
    <a href="https://github.com/ziglang/zig/issues/3174">Tier 1 Support for ARM 32-bit Linux</a>:
    </p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/3322">armv7 __aeabi_uidivmod produces undefined instruction exception</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/3289">std lib tests failing on arm 32-bit</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/3287">unable to build glibc for target armv8-linux-gnueabihf </a></li>
      <li><a href="https://github.com/ziglang/zig/issues/2767">Constant packed struct instantiations can generate incorrect unaligned loads on armv4t/armv5</a></li>
      <li>Add <a href="#Test-Coverage">Test Coverage</a> for <a href="#Debug-Info-and-Stack-Traces">Debug Info and Stack Traces</a> for this target.</li>
      <li>Come up with a way for the Continuous Integration service to create 32-bit ARM binaries
        for the <a href="/download">download page</a>.</li>
    </ul>

    

    <h2 id="MSYS2-Support"><a href="#toc-MSYS2-Support">MSYS2 Support</a> <a class="hdr" href="#MSYS2-Support">ยง</a></h2>

    <p>
    Although Zig does not officially support <a href="https://www.msys2.org/">MSYS2</a>
    as a host target, <a href="https://github.com/emekoi">emekoi</a> has dutifully maintained
    unofficial support. Thanks to emekoi's efforts, one can build and run the stage1 C++ compiler
    of Zig in an MSYS2 environment.
    </p>
    <p>
    Note: sometimes "MinGW" is used as a shorthand to mean "MSYS2". However, it is not
    to be confused with <a href="#Zig-ships-with-mingw-w64">mingw-w64</a>,
    or with the unrelated project, <a href="http://mingw.org/">MinGW</a>. MinGW-w64 is
    a fork of MinGW, which adds support for more architectures (such as 64-bit Windows)
    and more system APIs. When someone says "MinGW", it's almost certain they either
    mean "MSYS2" (which is based on MinGW-w64) or "MinGW-w64" instead.
    </p>
    <p>
    Here is the list of things emekoi did to maintain unofficial support for MSYS2:
    </p>
    <ul>
      <li>fixed linking of system libraries on msys2</li>
      <li>added code for linking libc on msys2</li>
      <li>made lld flags on windows consistent</li>
      <li>renamed add_gnu_link_args</li>
      <li>fixed stack protector issues</li>
      <li>added static_crt_dir to libc file</li>
      <li>fixed visibility of zig_libc_cc_print_file_name</li>
      <li>supress warnings for format strings on msys64</li>
      <li>make string literal const on windows</li>
      <li>increase stack size for msys2</li>
      <li>fixed compilation on mingw-w64</li>
      <li>fixed static linking on mingw-w64</li>
      <li>fixed size of ZigClangAPValue on mingw-w64</li>
      <li>improved CMake file for msys2</li>
      <li>fixed backtraces when linking libc on msys2</li>
      <li>avoid passing -static to msvc when static linking</li>
    </ul>
    

    <h2 id="FreeBSD-Support"><a href="#toc-FreeBSD-Support">FreeBSD Support</a> <a class="hdr" href="#FreeBSD-Support">ยง</a></h2>

    <p>
    stratact made the following changes:
    </p>
    <ul>
      <li>Added missing <code>&lt;stdint.h&gt;</code> include for <code>uint8_t</code> type declaration.</li>
      <li>Added needed FreeBSD check to link to libpthread.</li>
      <li>Added missing C <code>dl_iterate_phdr</code> function for FreeBSD.</li>
    </ul>
    <p>
    This combined with disabling some of the
    <a href="https://github.com/ziglang/zig/issues/3251">failing standard library tests for FreeBSD</a>,
    stratact was able to enable more <a href="#Test-Coverage">Test Coverage</a> for FreeBSD. Now the Continuous Integration
    server runs 7 additional kinds of tests from the test suite, instead of only the behavior tests.
    </p>
    <p>
    stratact reports all tests passing locally, however, we have run into memory limits of
    <a href="https://sourcehut.org/">SourceHut</a>, which is the service used to run FreeBSD tests.
    Drew DeVault has understandably denied our request for more RAM, and so we are left with
    disabled test coverage until Zig can finish self-hosting, or improve the memory usage of
    the C++ stage1 compiler.
    </p>
    <p>
    The set of remaining issues until
    <a href="https://github.com/ziglang/zig/issues/1759">Tier 1 FreeBSD Support for x86_64</a> is now:
    </p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/3251">The event tests hang on FreeBSD</a>.
        Event-based code is still pending a rewrite now that <a href="#Async-Functions">Async Functions</a> have been redesigned.</li>
      <li><a href="https://github.com/ziglang/zig/issues/3210">FreeBSD CI tests disabled due to using more memory than sr.ht provides</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/2876">add FreeBSD libc as a cross compilation target</a>.
        This is the task to do for FreeBSD what Zig already does for <a href="#musl-1123">musl</a>, <a href="#glibc-230">glibc</a>, and <a href="#Zig-ships-with-mingw-w64">mingw-w64</a>.</li>
    </ul>
    

    <h2 id="WebAssembly-Support"><a href="#toc-WebAssembly-Support">WebAssembly Support</a> <a class="hdr" href="#WebAssembly-Support">ยง</a></h2>

    <p>
    During the 0.5.0 release cycle, Shritesh Bhattarai joined the Zig community and made significant
    contributions to Zig's <a href="https://webassembly.org/">WebAssembly</a> and
    <a href="https://wasi.dev/">WASI (Web Assembly System Interface)</a> support.
    </p>
    <p>
    He got compiler_rt working and tweaked the target settings such as:
    </p>
    <ul>
      <li>disabling error return traces</li>
      <li>forcing single-threaded mode</li>
      <li>making the executable file extension ".wasm"</li>
    </ul>
    <p>
    Thanks to this as well as Shritesh adding basic standard library support for the WASI target, as well as
    improving the linker settings that Zig uses, WebAssembly and WASI are now <a href="#Tier-2-Support">Tier 2 Support</a>
    targets!
    </p>
    <p>
    As a demo, Shritesh created <a href="https://shritesh.github.io/zigfmt-web/">zigfmt-web</a>, which
    is a web page that will run <code>zig fmt</code> on a block of code, using the <em>same
    implementation as official zig fmt</em>.
    </p>
    <p>
    Shritesh created a basic allocator intended to be used on the WebAssembly target,
    <code>std.heap.wasm_allocator</code>. This uses the WebAssembly intrinsics to request memory
    from the host, and is not capable of freeing memory. The standard library does not yet have
    an allocator for WebAssembly that can reclaim freed memory. See
    <a href="https://github.com/fengb/zee_alloc/">zee_alloc</a> for a community project
    attempting to solve this use case.
    </p>
    <p>
    Shritesh also created a <a href="https://shritesh.github.io/zig-wasm-dom/">demo of Zig interacting with the DOM via JS</a> (<a href="https://github.com/shritesh/zig-wasm-dom">source</a>).
    </p>
    <p>Other miscellaneous improvements to WebAssembly:</p>
    <ul>
      <li>update <code>std.os.page_size</code> for WebAssembly</li>
      <li>Benjamin Feng switched wasm export-all to only values marked exports, so that unused
        symbols get properly garbage collected, resulting in smaller wasm binaries.</li>
      <li>LemonBoy implemented <a href="#compiler-rt">compiler-rt</a> builtins for WebAssembly.</li>
      <li>Benjamin Feng updated the library prefix to be empty for WebAssembly rather than "lib".</li>
    </ul>
    TODO
commit 14cdb01f35b35972b06e95a3a438f9f7910b97f8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed May 15 16:20:16 2019 -0400

    improvements to zig's implementation of libc and WebAssembly
    
     * rename std/special/builtin.zig to std/special/c.zig
       not to be confused with @import("builtin") which is entirely
       different, this is zig's multi-target libc implementation.
     * WebAssembly: build-exe is for executables which have a main().
       build-lib is for building libraries of functions to use from,
       for example, a web browser environment.
       - for now pass --export-all for libraries when there are any
         C objects because we have no way to detect the list of exports
         when compiling C code.
       - stop passing --no-entry for executables. if you want --no-entry
         then use build-lib.
     * make the "musl" ABI the default ABI for wasm32-freestanding.
     * zig provides libc for wasm32-freestanding-musl.

commit 01a4897da54d6c789b0a5232188bbafbbd660946
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu May 16 19:40:12 2019 -0400

    improve the libc of wasm32-freestanding target
    
     * introduce wasm32-freestanding-musl .h files to fix
       conflicts with stddef.h and errno.h
     * fix an issue with zig build system regarding installation of
       webassembly libraries
     * add implementations to zig's libc:
       - strcmp
       - strncmp
       - strerror
       - strlen
    
    See #514

commit 81e960eb748fdb37d1d61da262ec343e2fdb2511
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu May 16 13:56:56 2019 -0400

    improvements to build-lib use case of WebAssembly
    
     * build-exe does include the startup code that supplies _start for the
       wasm32-freestanding target. Previously this did not occur because
       of logic excluding "freestanding".
     * build-lib for wasm32-freestanding target gets linked by LLD. To avoid
       infinite recursion, compiler_rt and zig libc are built as objects
       rather than libraries.
       - no "lib" prefix and ".wasm" extension instead of ".a". Rather than
       build-lib foo.zig producing "libfoo.a", now it produces "foo.wasm".
     * zig libc only provides _start symbol for wasm when linking libc.


commit 978fab817caacb7bb3ba96fe3ec08bab1c78c1da
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu May 16 14:17:00 2019 -0400

    the wasm freestanding _start function is return value void

    

    <h2 id="UEFI-Support"><a href="#toc-UEFI-Support">UEFI Support</a> <a class="hdr" href="#UEFI-Support">ยง</a></h2>

    <p>TODO</p>
commit 187a6d198fd06dfedbb121aa5a79791b34b24794
Merge: eb7d36ae c15e4643
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Sep 13 14:11:00 2019 -0400

    Merge branch 'nrdmn-uefi' closes #2944

    TODO show some of the demo pics
commit 4527110e02d599c31a8aa51e1d24f34aff879de7
Author: Nick Erdmann <n@nirf.de>
Date:   Wed Sep 25 21:18:05 2019 +0200

    std/os/uefi: add some hii support

commit a4f324e9ea37b086d5bf2aa962d74e18adeeb4d0
Author: Nick Erdmann <n@nirf.de>
Date:   Tue Sep 3 22:04:22 2019 +0200

    std/os/uefi: add exitBootServices and allocatePool
    

    <h2 id="iOS-Support"><a href="#toc-iOS-Support">iOS Support</a> <a class="hdr" href="#iOS-Support">ยง</a></h2>

    <p>
    Matthew Iannucci added initial support for iOS targets (#2237).
    </p>
    <p>
    However iOS remains a <a href="#Tier-3-Support">Tier 3 Support</a> target. There are no known
    active Zig projects targeting iOS.
    </p>
    

    <h2 id="MIPS-Support"><a href="#toc-MIPS-Support">MIPS Support</a> <a class="hdr" href="#MIPS-Support">ยง</a></h2>

    <p>
    TODO
    </p>
commit a11c20e26a6efd977656459710ae3d37fcbb2846
Author: LemonBoy <thatlemon@gmail.com>
Date:   Sat Sep 21 23:10:45 2019 +0200

    Fix TLS for VariantI arches with a twist
    <p>
    MIPS now has <a href="#Tier-2-Support">Tier 2 Support</a>. LemonBoy reports running a Zig binary on his router:
    </p>
    <pre>18:59 &lt;TheLemonMan&gt; just got a Zig binary running on my mips32 router, yay</pre>
commit 4ebcf64864eeec6c2086826242f53eedc69275ad
Author: LemonBoy <thatlemon@gmail.com>
Date:   Sat Sep 21 23:00:36 2019 +0200

    Initial support for mipsel architecture
commit a220648198aafbd067ddbdc806d5d7ba50ed885b
Author: LemonBoy <thatlemon@gmail.com>
Date:   Fri Sep 27 18:20:00 2019 +0200

    Backport patch for Musl libc
    
    Allows musl to compile for mipsel targets.
    
    https://www.openwall.com/lists/musl/2019/09/27/1/2
commit 9ad0541f2c06e0eb3419b3da7fe721affa3aa3b5
Author: LemonBoy <thatlemon@gmail.com>
Date:   Fri Sep 27 18:20:17 2019 +0200

    Enable mipsel+libc tests on CI

    

    <h2 id="Android-Support"><a href="#toc-Android-Support">Android Support</a> <a class="hdr" href="#Android-Support">ยง</a></h2>

    TODO
    TODO tier 2 support for Android
commit f7bf61a98349c7d888e8808047912c482a2d2560
Author: meme <meme@users.noreply.github.com>
Date:   Fri Sep 27 16:51:42 2019 -0400

    support Android NDK and bionic
    
    

    <h1 id="Language-Changes"><a href="#toc-Language-Changes">Language Changes</a> <a class="hdr" href="#Language-Changes">ยง</a></h1>

    <ul>
      <li>Slice types no longer have field access.
        Instead, use <code class="zig"><span class="tok-builtin">@typeInfo</span>(Slice).Pointer.child</code>.</li>
      <li>Enum literals now implicit cast to tagged unions. TODO make code example of this</li>
      <li>Allow implicit casting optional pointer to optional <code class="zig"><span class="tok-type">c_void</span></code> pointer.</li>
      <li>Sam Tebbs added implicit cast for <code class="zig">*[N]T</code> to <code class="zig">[*c]T</code>.</li>
      <li>Stevie Hryciw made <code class="zig"><span class="tok-type">anyerror</span></code> no longer a keyword. #2835</li>
      <li>@cmpxchgStrong and @cmpxchgWeak now support 128-bit integers on x86_64.</li>
      <li><code class="zig"><span class="tok-type">comptime_int</span></code> now implicit casts to <code class="zig"><span class="tok-type">comptime_float</span></code>.</li>
      <li>@typeOf now guarantees no runtime side effects. TODO: pull the code example from lang ref and
          show why it's important for <a href="#Async-Functions">Async Functions</a>.</li>
      <li>Timon Kruiper added implicit casting from enum literal to optional enum and implicit casting to
        payload of error union. TODO: example code? e540e5b8ec1d90b86d6f41814507e6ae4ae5edd8</li>
      <li>LemonBoy added the <code class="zig"><span class="tok-kw">noinline</span></code> keyword for function declarations.</li>
      <li>Comparison between union tag and enum literal is now allowed thanks to LemonBoy. #2810</li>
      <li>LemonBoy made Single-element <code class="zig"><span class="tok-kw">enum</span></code> default to <code class="zig"><span class="tok-type">u0</span></code>.
        However, <code class="zig"><span class="tok-type">comptime_int</span></code> is still allowed as an explicit enum tag type. #2997</li>
    </ul>

    <h2 id="usingnamespace"><a href="#toc-usingnamespace">usingnamespace</a> <a class="hdr" href="#usingnamespace">ยง</a></h2>

      <p>
      <code class="zig"><span class="tok-kw">usingnamespace</span></code> is a top level declaration that imports all the public declarations of
      the operand, which must be a <code class="zig"><span class="tok-kw">struct</span></code>, <code class="zig"><span class="tok-kw">union</span></code>, or
      <code class="zig"><span class="tok-kw">enum</span></code>, into the current scope:
      </p>
      <p class="file">usingnamespace.zig</p><pre><code class="zig"><span class="tok-kw">usingnamespace</span> <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);

<span class="tok-kw">test</span> <span class="tok-str">&quot;using std namespace&quot;</span> {
    debug.assert(<span class="tok-null">true</span>);
}</code></pre><pre><code class="shell">$ zig test usingnamespace.zig
1/1 test &quot;using std namespace&quot;...OK
All tests passed.
</code></pre>

      <p>
      Instead of the above pattern, it is generally recommended to explicitly alias individual declarations.
      However, <code class="zig"><span class="tok-kw">usingnamespace</span></code> has an important use case when organizing the public
      API of a file or package. For example, one might have <code>c.zig</code> with all of the
      <a href="https://ziglang.org/documentation/master/#Import-from-C-Header-File">C imports</a>:
      </p>
      <pre><code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">usingnamespace</span> <span class="tok-builtin">@cImport</span>({
    <span class="tok-builtin">@cInclude</span>(<span class="tok-str">&quot;epoxy/gl.h&quot;</span>);
    <span class="tok-builtin">@cInclude</span>(<span class="tok-str">&quot;GLFW/glfw3.h&quot;</span>);
    <span class="tok-builtin">@cDefine</span>(<span class="tok-str">&quot;STBI_ONLY_PNG&quot;</span>, <span class="tok-str">&quot;&quot;</span>);
    <span class="tok-builtin">@cDefine</span>(<span class="tok-str">&quot;STBI_NO_STDIO&quot;</span>, <span class="tok-str">&quot;&quot;</span>);
    <span class="tok-builtin">@cInclude</span>(<span class="tok-str">&quot;stb_image.h&quot;</span>);
});</code></pre>
      <p>
      The above example demonstrates using <code class="zig"><span class="tok-kw">pub</span></code> to qualify the
      <code class="zig"><span class="tok-kw">usingnamespace</span></code> additionally makes the imported declarations
      <code class="zig"><span class="tok-kw">pub</span></code>. This can be used to forward declarations, giving precise control
      over what declarations a given file exposes.
      </p>
      <p>
      In Zig 0.4.0, this feature existed as <code>use</code>, but it only worked at the top-level
      scope, and only for structs. The feature was also considered unstable.
      </p>
      <p>Thank you LemonBoy for fixing <code class="zig"><span class="tok-kw">usingnamespace</span></code> outside the top-level scope, and
      making it work with arbitrary structs.</p>
      <p>
      In Zig 0.5.0, both <code>use</code> and <code class="zig"><span class="tok-kw">usingnamespace</span></code> are accepted, and
      <a href="#zig-fmt">zig fmt</a> automatically converts to the canonical syntax. The next release of Zig after this
      one will remove the old syntax.
      </p>
      <p>
      This feature is now stable and planned to be included in
      <a href="https://github.com/ziglang/zig/issues/75">the language specification</a>.
      </p>
    

    <h2 id="External-Thread-Local-Variables"><a href="#toc-External-Thread-Local-Variables">External Thread Local Variables</a> <a class="hdr" href="#External-Thread-Local-Variables">ยง</a></h2>

    <p>
    Zig now always respects <code class="zig"><span class="tok-kw">threadlocal</span></code> for variables with external linkage.
    </p>
    <p>
    Previously, if you had, for example:
    </p>
    <pre><code class="zig"><span class="tok-kw">extern</span> <span class="tok-str">&quot;c&quot;</span> <span class="tok-kw">threadlocal</span> <span class="tok-kw">var</span> errno: <span class="tok-type">c_int</span>;</code></pre>
    <p>
    This would turn <code class="zig">errno</code> into a normal variable for <code>--single-threaded</code>
    builds. However for variables with external linkage, there is an ABI
    to uphold.
    </p>
    <p>
    This is needed to make errno work for DragonFly BSD. See #2381.
    </p>
    

    <h2 id="hasField-and-hasDecl"><a href="#toc-hasField-and-hasDecl">@hasField and @hasDecl</a> <a class="hdr" href="#hasField-and-hasDecl">ยง</a></h2>

    <pre><code class="zig"><span class="tok-builtin">@hasField</span>(<span class="tok-kw">comptime</span> Container: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <span class="tok-type">bool</span></code></pre>
    <pre><code class="zig"><span class="tok-builtin">@hasDecl</span>(<span class="tok-kw">comptime</span> Container: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <span class="tok-type">bool</span></code></pre>
    <p>
    The new builtin function @hasField returns whether the field name of a struct, union, or enum exists.
    The result is a compile time boolean. It does not include functions, variables, or constants.
    </p>
    <p>
    The new builtin function @hasDecl returns whether or not a struct, enum, or union has a declaration.
    </p>
    <p class="file">has_builtins.zig</p><pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);
<span class="tok-kw">const</span> assert = std.debug.assert;

<span class="tok-kw">const</span> Foo = <span class="tok-kw">struct</span> {
    nope: <span class="tok-type">i32</span>,

    <span class="tok-kw">pub</span> <span class="tok-kw">var</span> blah = <span class="tok-str">&quot;xxx&quot;</span>;
    <span class="tok-kw">const</span> hi = <span class="tok-number">1</span>;
};

<span class="tok-kw">test</span> <span class="tok-str">&quot;@hasDecl and @hasField&quot;</span> {
    assert(<span class="tok-builtin">@hasDecl</span>(Foo, <span class="tok-str">&quot;blah&quot;</span>));

    <span class="tok-comment">// Even though `hi` is private, @hasDecl returns true because this test is</span>
    <span class="tok-comment">// in the same file scope as Foo. It would return false if Foo was declared</span>
    <span class="tok-comment">// in a different file.</span>
    assert(<span class="tok-builtin">@hasDecl</span>(Foo, <span class="tok-str">&quot;hi&quot;</span>));

    <span class="tok-comment">// @hasDecl is for declarations; not fields.</span>
    assert(!<span class="tok-builtin">@hasDecl</span>(Foo, <span class="tok-str">&quot;nope&quot;</span>));
    assert(!<span class="tok-builtin">@hasDecl</span>(Foo, <span class="tok-str">&quot;nope1234&quot;</span>));

    assert(<span class="tok-builtin">@hasField</span>(Foo, <span class="tok-str">&quot;nope&quot;</span>));
}</code></pre><pre><code class="shell">$ zig test has_builtins.zig
1/1 test &quot;@hasDecl and @hasField&quot;...OK
All tests passed.
</code></pre>

    <p>
    Thanks to Shawn Landden for initial implementation and documentation of @hasField.
    </p>
    

    <h2 id="C-Pointers-Support-Optional-Syntax"><a href="#toc-C-Pointers-Support-Optional-Syntax">C Pointers Support Optional Syntax</a> <a class="hdr" href="#C-Pointers-Support-Optional-Syntax">ยง</a></h2>

    <p>
    When <a href="#C-Translation">translating C code</a>, Zig does not know whether pointer types
    should be translated to <code>*</code> or <code>[*]</code> pointers. Instead, they
    are translated to <a href="https://ziglang.org/documentation/master/#C-Pointers">C Pointers</a>.
    </p>
    <p>
    As the documentation notes, this type is to be avoided whenever possible. The only valid reason
    for using a C pointer is in auto-generated code from translating C code. 
    </p>
    <p>
    Interfacing with C pointer types happens due to direct interop with translated .h files. It's always
    a future possibility to rewrite the .h file in .zig to gain better type-safety. Previously,
    optional syntax, such as <code class="zig"><span class="tok-kw">if</span></code>, <code class="zig"><span class="tok-kw">orelse</span></code>, <code class="zig"><span class="tok-null">null</span></code>,
    and <code class="zig">.?</code> did not work for C pointers. This would cause compile errors if
    the type signature of the external function prototypes were improved to have the real pointer types
    rather than C pointers.
    </p>
    <p>
    Now, this syntax works, and so there is no penalty for starting out with auto-translated headers, and then
    later "upgrading" to better typed bindings.
    </p>
    <p class="file">getenv.zig</p><pre><code class="zig"><span class="tok-kw">const</span> getenv = <span class="tok-builtin">@cImport</span>(<span class="tok-builtin">@cInclude</span>(<span class="tok-str">&quot;stdlib.h&quot;</span>)).getenv;

<span class="tok-comment">// note: this is just a demo of C pointers with optional syntax.</span>
<span class="tok-comment">// std.process has better API for getenv.</span>

<span class="tok-kw">test</span> <span class="tok-str">&quot;C pointers with optional syntax&quot;</span> {
    <span class="tok-kw">const</span> ptr1 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>).?; <span class="tok-comment">// don't do this ๐ฅ</span>
    <span class="tok-kw">const</span> ptr2 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>) <span class="tok-kw">orelse</span> <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Homeless; <span class="tok-comment">// OK</span>

    <span class="tok-kw">if</span> (getenv(<span class="tok-str">c&quot;HOME&quot;</span>)) |ptr3| {
        <span class="tok-comment">// also OK</span>
    }

    <span class="tok-kw">const</span> ptr4 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>);
    <span class="tok-kw">if</span> (ptr4 == <span class="tok-null">null</span>) {
        <span class="tok-comment">// also works</span>
    }
}</code></pre><pre><code class="shell">$ zig test getenv.zig -lc
1/1 test &quot;C pointers with optional syntax&quot;...OK
All tests passed.
</code></pre>

    <p>
    The auto-translated <code>getenv</code> prototype looks like this:
    </p>
    <pre><code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">extern</span> <span class="tok-kw">fn</span> <span class="tok-fn">getenv</span>(__name: [*c]<span class="tok-kw">const</span> <span class="tok-type">u8</span>) [*c]<span class="tok-type">u8</span>;</code></pre>
    <p>
    If we were to improve this prototype with correct pointer types, the test will still pass:
    </p>
    <p class="file">getenv2.zig</p><pre><code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">extern</span> <span class="tok-kw">fn</span> <span class="tok-fn">getenv</span>(name: [*]<span class="tok-kw">const</span> <span class="tok-type">u8</span>) ?[*]<span class="tok-type">u8</span>;

<span class="tok-comment">// note: this is just a demo of C pointers with optional syntax.</span>
<span class="tok-comment">// std.process has better API for getenv.</span>

<span class="tok-kw">test</span> <span class="tok-str">&quot;C pointers with optional syntax&quot;</span> {
    <span class="tok-kw">const</span> ptr1 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>).?; <span class="tok-comment">// don't do this ๐ฅ</span>
    <span class="tok-kw">const</span> ptr2 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>) <span class="tok-kw">orelse</span> <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Homeless; <span class="tok-comment">// OK</span>

    <span class="tok-kw">if</span> (getenv(<span class="tok-str">c&quot;HOME&quot;</span>)) |ptr3| {
        <span class="tok-comment">// also OK</span>
    }

    <span class="tok-kw">const</span> ptr4 = getenv(<span class="tok-str">c&quot;HOME&quot;</span>);
    <span class="tok-kw">if</span> (ptr4 == <span class="tok-null">null</span>) {
        <span class="tok-comment">// also works</span>
    }
}</code></pre><pre><code class="shell">$ zig test getenv2.zig -lc
1/1 test &quot;C pointers with optional syntax&quot;...OK
All tests passed.
</code></pre>

    

    <h2 id="Switching-on-Error-Sets"><a href="#toc-Switching-on-Error-Sets">Switching on Error Sets</a> <a class="hdr" href="#Switching-on-Error-Sets">ยง</a></h2>

    <p>
    Using <code class="zig"><span class="tok-kw">switch</span></code> on an
    <a href="https://ziglang.org/documentation/master/#Error-Set-Type">error set</a> now provides a way
    to capture an error value with a subset type:
    </p>
    TODO #769
    

    <h2 id="Bit-Manipulation-Builtin-Functions"><a href="#toc-Bit-Manipulation-Builtin-Functions">Bit Manipulation Builtin Functions</a> <a class="hdr" href="#Bit-Manipulation-Builtin-Functions">ยง</a></h2>

    <p>Shawn Landden improved the consistency of the names and parameters of bit manipulation intrinsics.</p>
    <ul>
      <li>Rename <code>@bitreverse</code> to @bitReverse to adhere to
        <a href="https://ziglang.org/documentation/master/#Style-Guide">naming conventions</a>.</li>
      <li>Rename <code>@bswap</code> to @byteSwap.</li>
      <li>@clz, @ctz, @popCount, @byteSwap, and @bitReverse now have an explicit type parameter.</li>
    </ul>
    <pre><code class="zig"><span class="tok-builtin">@bitReverse</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, integer: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@byteSwap</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, operand: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@clz</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, integer: T)</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@ctz</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, integer: T)</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@popCount</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, integer: T)</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@byteSwap</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, operand: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@bitReverse</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, integer: T) T</code></pre>
    <p>
    #2119 #2120
    </p>
    

    <h2 id="Undeclared-Identifiers-in-Compile-Time-Dead-Branches"><a href="#toc-Undeclared-Identifiers-in-Compile-Time-Dead-Branches">Undeclared Identifiers in Compile-Time Dead Branches</a> <a class="hdr" href="#Undeclared-Identifiers-in-Compile-Time-Dead-Branches">ยง</a></h2>

    <p>
    Zig no longer validates whether identifiers exist in dead <code class="zig"><span class="tok-kw">comptime</span></code> branches:
    </p>
    <p class="file">dead_comptime_branch.zig</p><pre><code class="zig"><span class="tok-kw">test</span> <span class="tok-str">&quot;dead comptime branch&quot;</span> {
    <span class="tok-kw">if</span> (<span class="tok-null">false</span>) {
        does_not_exist = thisFunctionAlsoDoesNotExist();
    }
}</code></pre><pre><code class="shell">$ zig test dead_comptime_branch.zig
1/1 test &quot;dead comptime branch&quot;...OK
All tests passed.
</code></pre>

    <p>
    This is counter-intuitive, but consider that the set of available identifiers may depend on
    <code class="zig"><span class="tok-kw">comptime</span></code> parameters, such as the target OS:
    </p>
    <pre><code class="zig"><span class="tok-kw">const</span> builtin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>);

<span class="tok-kw">usingnamespace</span> <span class="tok-kw">switch</span> (builtin.os) {
    .windows =&gt; <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;windows_stuff.zig&quot;</span>),
    <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;posix_stuff.zig&quot;</span>),
};

<span class="tok-kw">test</span> <span class="tok-str">&quot;example&quot;</span> {
    <span class="tok-kw">if</span> (builtin.os == .windows) {
        ExitProcess(<span class="tok-number">0</span>);
    } <span class="tok-kw">else</span> {
        exit(<span class="tok-number">0</span>);
    }
}</code></pre>
    <p>
    In practice, this has resulted in various code cleanups throughout the standard library.
    </p>
    <p>
    Zig's lazy analysis, while convenient, surfaces the inherent problems of conditional compilation.
    See the related proposal:
    <a href="https://github.com/ziglang/zig/issues/3028">"multibuilds" - a plan to harmonize conditional compilation with compile errors, documentation, and IDEs</a>
    </p>
    

    <h2 id="Default-Struct-Field-Values"><a href="#toc-Default-Struct-Field-Values">Default Struct Field Values</a> <a class="hdr" href="#Default-Struct-Field-Values">ยง</a></h2>

    <p>
    Each struct field may now have an expression indicating the default field value. Such expressions
    are executed at <code class="zig"><span class="tok-kw">comptime</span></code>, and allow the field to be omitted in a struct
    literal expression:
    </p>
    <p class="file">default_fields.zig</p><pre><code class="zig"><span class="tok-kw">const</span> Foo = <span class="tok-kw">struct</span> {
    a: <span class="tok-type">i32</span> = <span class="tok-number">1234</span>,
    b: <span class="tok-type">i32</span>,
};

<span class="tok-kw">test</span> <span class="tok-str">&quot;default struct field values&quot;</span> {
    <span class="tok-kw">const</span> x = Foo{
        .b = <span class="tok-number">5</span>,
    };
    <span class="tok-kw">if</span> (x.a + x.b != <span class="tok-number">1239</span>) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;it's even comptime known!&quot;</span>);
    }
}</code></pre><pre><code class="shell">$ zig test default_fields.zig
1/1 test &quot;default struct field values&quot;...OK
All tests passed.
</code></pre>

    

    <h2 id="Array-Literal-Syntax"><a href="#toc-Array-Literal-Syntax">Array Literal Syntax</a> <a class="hdr" href="#Array-Literal-Syntax">ยง</a></h2>

    TODO
commit b735764898412c5b9388fdf729c8ad8db43ddde5
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jun 9 19:24:24 2019 -0400

    different array literal syntax when inferring the size
    
    old syntax:  []i32{1, 2, 3}
    new syntax: [_]i32{1, 2, 3}
    
    closes #1797
    

    <h2 id="importroot"><a href="#toc-importroot">@import("root")</a> <a class="hdr" href="#importroot">ยง</a></h2>

    <p>
    The <a href="https://ziglang.org/documentation/0.5.0/#Root-Source-File">Root Source File</a>
    (in the case of <code>build-exe</code>, the file with <code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span></code>)
    is now available to import anywhere, using <code class="zig"><span class="tok-builtin">@import</span>(<span class="tok-str">&quot;root&quot;</span>)</code>.
    Combined with <a href="#hasField-and-hasDecl">@hasDecl</a>,
    this allows library code to support global configuration settings based on declarations in the
    root source file.
    </p>
    <p>
    The <a href="#Standard-Library">Standard Library</a> takes advantage of this for several use cases. One example is
    the <a href="#Default-Segfault-Handler">Default Segfault Handler</a>. It works like this (from <code>std.debug</code>):
    </p>
    <pre><code class="zig"><span class="tok-kw">const</span> root = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;root&quot;</span>);

<span class="tok-comment">/// Whether or not the current target can print useful debug information when a segfault occurs.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> have_segfault_handling_support = builtin.os == .windows <span class="tok-kw">or</span>
    (builtin.arch == builtin.Arch.x86_64 <span class="tok-kw">and</span> builtin.os == .linux);

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> enable_segfault_handler: <span class="tok-type">bool</span> = <span class="tok-kw">if</span> (<span class="tok-builtin">@hasDecl</span>(root, <span class="tok-str">&quot;enable_segfault_handler&quot;</span>))
    root.enable_segfault_handler
<span class="tok-kw">else</span>
    runtime_safety <span class="tok-kw">and</span> have_segfault_handling_support;

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">maybeEnableSegfaultHandler</span>() <span class="tok-type">void</span> {
    <span class="tok-kw">if</span> (enable_segfault_handler) {
        std.debug.attachSegfaultHandler();
    }
}</code></pre>
    <p>
    And then Zig's startup code calls <code class="zig">std.debug.maybeEnableSegfaultHandler()</code> just before
    calling <code class="zig">main()</code>.
    </p>
    <p>
    Another place this is used in the standard library is to decide a global "I/O mode", which is
    related to <a href="#Async-Functions">Async Functions</a>.
    </p>
    <p>
    This feature has the capability to be abused, and should be used with care. Any root source file
    declarations that can affect a library's behavior should be well-documented. When Zig gains
    <a href="https://github.com/ziglang/zig/issues/21">documentation generation</a>, the auto-generated
    docs will have the capability to enumerate all the places that depend on a root source file declaration.
    </p>
    <p>Thank you emekoi for the initial implementation of this.</p>
    

    <h2 id="mulAdd"><a href="#toc-mulAdd">@mulAdd</a> <a class="hdr" href="#mulAdd">ยง</a></h2>

    <p>
    Zig now has @mulAdd, otherwise known as "fused-multiply-add". 
    </p>
    <pre><code class="zig"><span class="tok-builtin">@mulAdd</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T, c: T) T</code></pre>
    <p>
    Performs <code class="zig">(a * b) + c</code>, except only rounds once, and is thus more accurate.
    Additionally, some targets have a hardware instruction for this, making it potentially faster than
    a userland implementation.
    </p>
    <p class="file">mul_add.zig</p><pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);

<span class="tok-kw">test</span> <span class="tok-str">&quot;@mulAdd&quot;</span> {
    <span class="tok-comment">// In this example we use numbers small enough to avoid rounding errors that would occur</span>
    <span class="tok-comment">// without @mulAdd.</span>
    std.testing.expect(<span class="tok-builtin">@mulAdd</span>(<span class="tok-type">f32</span>, <span class="tok-number">2.0</span>, <span class="tok-number">3.0</span>, <span class="tok-number">4.0</span>) == (<span class="tok-number">2.0</span> * <span class="tok-number">3.0</span>) + <span class="tok-number">4.0</span>);
}</code></pre><pre><code class="shell">$ zig test mul_add.zig
1/1 test &quot;@mulAdd&quot;...OK
All tests passed.
</code></pre>

    <p>
    Currently this instruction only works for floating point types, as well as
    <a href="#SIMD">vectors of floating point types</a>. However, there is
    <a href="https://github.com/ziglang/zig/issues/3321">an open proposal</a>
    to make this work for any types that support <code class="zig">*</code> and <code class="zig">+</code>
    operators, such as integers. The proposal also suggests to remove the explicit type parameter requirement.
    </p>
    <p>Thank you Shawn Landden for the initial implementation of this.</p>
    

    <h2 id="Builtins-for-Math-Functions"><a href="#toc-Builtins-for-Math-Functions">Builtins for Math Functions</a> <a class="hdr" href="#Builtins-for-Math-Functions">ยง</a></h2>

    <p>
    Shawn Landden added:
    </p>
    <ul style="columns: 3">
      <li>@sin</li>
      <li>@cos</li>
      <li>@exp</li>
      <li>@exp2</li>
      <li>@ln</li>
      <li>@log2</li>
      <li>@log10</li>
      <li>@fabs</li>
      <li>@floor</li>
      <li>@ceil</li>
      <li>@trunc</li>
      <li>@round</li>
    </ul>
    <pre><code class="zig"><span class="tok-builtin">@sin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@cos</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@exp</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@exp2</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@ln</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@log2</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@log10</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@fabs</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@floor</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@ceil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@trunc</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <pre><code class="zig"><span class="tok-builtin">@round</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre>
    <p>
    These are builtin functions because some architectures have hardware instructions for these.
    Furthermore, because these functions are well-defined, the optimizer may sometimes be able to
    convert calls to these builtins into better forms.
    </p>
    <p>
    It's planned for Zig to provide <code>libmvec</code> in the future, and these functions will become
    <a href="#SIMD">SIMD</a>-capable.
    </p>
    

    <h2 id="Result-Location-Semantics"><a href="#toc-Result-Location-Semantics">Result Location Semantics</a> <a class="hdr" href="#Result-Location-Semantics">ยง</a></h2>

    TODO
    TODO this was a large branch, third attempt, finally succeeded. During this work many contributors
         continued to improve master branch while I worked on this feature, thanks for that yo
    TODO short examples
    TODO function forwarding results
    TODO segway into async functions
    TODO mention Michael Dusan helping by creating reductions and even some contributions
      Michael Dusan fixed vector to array conversion not being aligned properly.

      it fixed #961. add test case for defer modifying return value before returned
      also fixed #2725
    
commit 2045b4d93240cd95eee7143f2cfc360eb63c5802
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Sep 5 14:50:27 2019 -0400

    prefer result type casting to peer type resolution See #2749

      <li>LemonBoy fixed result loc unwrapping with optional in error union. #2899</li>

    

    <h2 id="unionInit"><a href="#toc-unionInit">@unionInit</a> <a class="hdr" href="#unionInit">ยง</a></h2>

    <pre><code class="zig"><span class="tok-builtin">@unionInit</span>(<span class="tok-kw">comptime</span> Union: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> active_field_name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, init_expr) Union</code></pre>
    TODO
    <p>Thank you Robert Scott for the initial implementation of @unionInit.</p>
    TODO update `@unionInit` to integrate with result location semantics
    

    <h2 id="Unicode-Escapes"><a href="#toc-Unicode-Escapes">Unicode Escapes</a> <a class="hdr" href="#Unicode-Escapes">ยง</a></h2>

    TODO
commit e35d49c4d03ea7a84a2d588be8f97108ea616dd7
Author: hryx <codroid@gmail.com>
Date:   Thu Jul 4 22:52:17 2019 -0700

    Unicode escapes: documentation and grammar

commit 6bfa8546bbdf6dd644a65876135893339b767bba
Author: hryx <codroid@gmail.com>
Date:   Thu Jul 4 22:40:19 2019 -0700

    Unicode escapes: stage1 tokenizer and behavior tests

commit 8365a7aab49938ff77228b72388301f562287415
Author: hryx <codroid@gmail.com>
Date:   Thu Jul 4 14:48:23 2019 -0700

    Unicode escapes: stage2 tokenizer and parser test
    TODO note about unicode character literal
    

    <h2 id="Async-Functions"><a href="#toc-Async-Functions">Async Functions</a> <a class="hdr" href="#Async-Functions">ยง</a></h2>

    TODO
    TODO mention @frameSize, @frame, and @Frame
    TODO     avoid the word "coroutine", they're "async functions" 
    TODO mention the cancel issue
    TODO I/O mode
    TODO zig-window example
    TODO demo -fstack-report
commit 0489d06c249d16457d66523b5c407fc7ddeca45a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Sep 10 00:25:37 2019 -0400

    make the std lib support event-based I/O
    
    also add -fstack-report -fstack-report outputs JSON See #3069

commit 3dce41b61a20c23c494a485b1d3092e7c67dd97f
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 16 21:29:29 2019 -0400

    improvements to std lib for event-based I/O

commit e657b73f30e3380b14caf3a115a4c7a97c510d77
Merge: a29ce786 ff051f8f
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Sep 10 10:39:27 2019 -0400

    Merge branch 'async-std-lib'
    
    This introduces the concept of "IO mode" which is configurable by the
    root source file (e.g. next to `pub fn main`). Applications can put this
    in their root source file:
    
    ```
    pub const io_mode = .evented;
    ```
    
    This will populate `std.io.mode` to be `std.io.Mode.evented`. When I/O
    mode is evented, `std.os.read` handles EAGAIN by suspending until the
    file descriptor becomes available for reading. Although the std lib
    event loop supports epoll, kqueue, and Windows I/O Completion Ports,
    this integration with `std.os.read` currently only works on Linux.
    
    This integration is currently only hooked up to `std.os.read`, and not,
    for example, `std.os.write`, child processes, and timers. The fact that
    we can do this and still have a working master branch is thanks to Zig's
    lazy analysis, comptime, and inferred async. We can continue to make
    incremental progress on async std lib features, enabling more and more
    test cases and coverage.
    
    In addition to `std.io.mode` there is `std.io.is_async` which is equal
    to `std.io.mode == .evented`. In case I/O mode is async, `std.io.InStream`
    notices this and the read function pointer becomes an async function
    pointer rather than a blocking function pointer. Even in this case,
    `std.io.InStream` can *still be used as a blocking input stream*.
    Users of the API control whether it is blocking or async at runtime by whether
    or not the read function suspends. In case of file descriptors, for
    example, this might correspond to whether it was opened with `O_NONBLOCK`.
    The `noasync` keyword makes a function call or `await` assert that no
    suspension happens. This assertion has runtime safety enabled.
    
    `std.io.InStream`, in the case of async I/O, uses by default a 4 MiB
    frame size for calling the read function. If this is too large or too
    small, the application can globally increase the frame size used by
    declaring `pub const stack_size_std_io_InStream = 1234;` in their root
    source file. This way, `std.io.InStream` will only be generated once,
    avoiding bloat, and as long as this number is configured to be high
    enough, everything works fine. Zig has runtime safety to detect when
    `@asyncCall` is given too small of a buffer for the frame size.
    
    This merge introduces -fstack-report which can help identify large async
    function frame sizes and explain what is making them so big. Until #3069 is
    solved, it's recommended to stick with blocking IO mode.
    
    -fstack-report outputs JSON format, which can then be viewed in a GUI
    that represents the tree structure. As an example, Firefox does a decent
    job of this.
    
    One feature that is currently missing is detecting that the call stack
    upper bound is greater than the default for a given target, and passing
    this upper bound to the linker. As an example, if Zig detects that 20
    MiB stack upper bound is needed - which would be quite reasonable -
    currently on Linux the application would only be given the default of 16
    MiB.
    
    Unrelated miscellaneous change: added std.c.readv
commit cf4bccf76566ac112f9142863c3e4dbf81e71d08
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 11 20:22:49 2019 -0400

    improvements targeted at improving async functions
    
     * Reuse bytes of async function frames when non-async functions
       make `noasync` calls. This prevents explosive stack growth.
     * Zig now passes a stack size argument to the linker when linking ELF
       binaries. Linux ignores this value, but it is available as a program
       header called GNU_STACK. I prototyped some code that memory maps
       extra space to the stack using this program header, but there was
       still a problem when accessing stack memory very far down. Stack
       probing is needed or not working or something. I also prototyped
       using `@newStackCall` to call main and that does work around the
       issue but it also brings its own issues. That code is commented out
       for now in std/special/start.zig. I'm on a plane with no Internet,
       but I plan to consult with the musl community for advice when I get a
       chance.
     * Added `noasync` to a bunch of function calls in std.debug. It's very
       messy but it's a workaround that makes stack traces functional with
       evented I/O enabled. Eventually these will be cleaned up as the root
       bugs are found and fixed. Programs built in blocking mode are
       unaffected.
     * Lowered the default stack size of std.io.InStream (for the async
       version) to 1 MiB instead of 4. Until we figure out how to get
       choosing a stack size working (see 2nd bullet point above), 4 MiB
       tends to cause segfaults due to stack size running out, or usage of
       stack memory too far apart, or something like that.
     * Default thread stack size is bumped from 8 MiB to 16 to match the
       size we give for the main thread. It's planned to eventually remove
       this hard coded value and have Zig able to determine this value
       during semantic analysis, with call graph analysis and function
       pointer annotations and extern function annotations.
    

    <h2 id="SIMD"><a href="#toc-SIMD">SIMD</a> <a class="hdr" href="#SIMD">ยง</a></h2>

    TODO
    TODO mention Shawn's LLVM talk
commit 0e3ca4c63ecb8e43af8261020d21bc6888d18fc0
Author: Shawn Landden <shawn@git.icu>
Date:   Thu Jul 25 11:11:37 2019 -0500

    Fix array->vector and vector->array for many types. Allow vector of bool.
    
    Vectors do not have the same packing as arrays, and just bitcasting
    is not the correct way to convert them.
commit 558b4ac1f0fd7123ebe25f3e59eef275b066c50a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 18 10:24:28 2019 -0400

    adjust codegen of casting between arrays and vectors
    
     * bitcasting is still better when the size_in_bits aligns with the ABI
       size of the element type. Logic is reworked to do bitcasting when
       possible
     * rather than using insertelement/extractelement to work with arrays,
       store/load elements directly. This matches codegen for arrays
       elsewhere.
commit 74ce5e9e13014d2657bf00b5893fd4687c7f0359
Author: Shawn Landden <shawn@git.icu>
Date:   Wed Jul 31 10:55:53 2019 -0500

    stage1: proper return type on vector comparisons

commit 2038f4d45a597cc672380c0a5fc8dd98e928d24c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 18 15:41:56 2019 -0400

    rework the implementation
    
     * update documentation
       - move `@shuffle` to be sorted alphabetically
       - remove mention of LLVM
       - minor clarifications & rewording
     * introduce ir_resolve_vector_elem_type to avoid duplicate compile
       error message and duplicate vector element checking logic
     * rework ir_analyze_shuffle_vector to solve various issues
     * improve `@shuffle` to allow implicit cast of arrays
     * the shuffle tests weren't being run

commit 193604c837df75ab0c3fa5860f8b234263fe5b50
Author: Shawn Landden <shawn@git.icu>
Date:   Sat Jun 29 11:32:26 2019 -0500

    stage1: add @shuffle() shufflevector support
    
    I change the semantics of the mask operand, to make it a little more
    flexible. There is no real danger in this because it is a compile-error
    if you do it the LLVM way (and there is an appropiate error to tell you
    this).
    
    v2: avoid problems with double-free
commit ef0f3ba905e992556a60f935cbb7cb30cf1f27db
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 18 16:34:36 2019 -0400

    relax std.auto_hash requirements regarding vectors
    
    Previously, auto hash tests required vectors of different types to not
    hash to the same value. Now, this is allowed.

commit 380c8ec2c95fa8d732c141c705d9940629eb2012
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Sep 19 00:59:04 2019 -0400

    implement runtime `@byteSwap` and other fixups
    
     * update docs for `@byteSwap`.
     * fix hash & eql functions for ZigLLVMFnIdBswap not updated to
       include vector len. this was causing incorrect bswap function
       being called in unrelated code
     * fix `@byteSwap` behavior tests only testing comptime and not
       runtime operations
     * implement runtime `@byteSwap`
     * fix incorrect logic in ir_render_vector_to_array and
       ir_render_array_to_vector with regards to whether or not to bitcast
     * `@byteSwap` accepts an array operand which it will cast to vector
     * simplify `@byteSwap` semantic analysis code and various fixes

commit 76f53960778e84ab49730edb77b85490b07fbea2
Author: Shawn Landden <shawn@git.icu>
Date:   Sun Jul 14 09:22:37 2019 -0500

    @byteSwap on vectors

commit 28c7fe60b6de6e3c32e082a0abfb5a7bac8fc45a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Sep 19 11:14:42 2019 -0400

    add docs for `@splat`

commit 005a54a853a77b9c28551490fc08dc37cd7d7715
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Sep 19 10:48:04 2019 -0400

    fixups for `@splat`
    
     * Fix codegen for splat - instead of giving vectors of length N
       to shufflevector for both of the operands, it gives vectors of length
       1. The mask vector is the only one that needs N elements.
     * Separate Splat into SplatSrc and SplatGen; the `len` is not needed
       once it gets to codegen since it is redundant with the result type.
     * Refactor compile error for wrong vector element type so that the
       compile error message is not duplicated in zig source code
     * Improve implementation to correctly handle comptime values such as
       undefined and lazy values.
     * Improve compile error for bad vector element type to point to the
       correct place.
     * Delete dead code.
     * Modify behavior test to use an array cast instead of vector element
       indexing since I'm merging this splat commit out-of-order from
       Shawn's patch set.

commit 01577a3af480cff02c5f78864f8056487b3d3b44
Author: Shawn Landden <shawn@git.icu>
Date:   Sun Jul 21 10:41:43 2019 -0500

    `@splat`
    

    <h2 id="Alignment-of-Struct-Fields"><a href="#toc-Alignment-of-Struct-Fields">Alignment of Struct Fields</a> <a class="hdr" href="#Alignment-of-Struct-Fields">ยง</a></h2>

    TODO note that lazy values paved the way for standard library integrations with <a href="#Async-Functions">Async Functions</a>.
    TODO
commit efdbede7abf91d5fe2836d95987a83e95e9fcf8e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Aug 21 19:20:18 2019 -0400

    breaking: remove field alignment kludge
    
    This breaks behavior tests as well as compile error notes for generic
    function calls. However it introduces better circular dependency compile
    errors.
    
    The next step is to add Lazy Values to fix the regressions.

commit 8460d5617cc12d614abf39f55ab85c783c4b35a8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Aug 22 12:07:56 2019 -0400

    introduce lazy values
    
    see #2174

commit 43587af01acba98d9c09c4e0cf20343be8d7c81b
Author: Tetralux <tetralux@teknik.io>
Date:   Thu Aug 22 22:58:38 2019 +0000

    rendering of align(N) on struct fields

commit 3ec10ea174d5738098e9bd1ef709b552603cc3b4
Author: Tetralux <tetralux@teknik.io>
Date:   Thu Aug 22 20:41:33 2019 +0000

    parsing of align(N) on struct fields

commit ac4dd9d665ba195a6b21b3b033f27c865015ccac
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 23 15:54:51 2019 -0400

    better handling of lazy structs
    
    this case works now:
    
    ```zig
    const A = struct {
        b_list_pointer: *const []B,
    };
    const B = struct {
        a_pointer: *const A,
    };
    
    const b_list: []B = [_]B{};
    const a = A{ .b_list_pointer = &b_list };
    const obj = B{ .a_pointer = &a };
    ```

commit be0a9a72772566667d4c225972c6bc7c17b751ef
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 23 15:05:15 2019 -0400

    pointer types lazily evaluate their element type

commit 1dd658d1d02f8dfc432bcda88fdb542189c31725
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 23 14:07:34 2019 -0400

    allow top level declarations to be lazy
    
    this case now works:
    
    ```zig
    const A = struct {
        b: B,
    };
    const B = fn (A) void;
    ```

commit 20049caaba0354754811ae0d36a773c31cf4578a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 23 13:28:26 2019 -0400

    add lazy value for fn prototypes
    
    this case now works:
    
    ```zig
    const Node = struct {
        field: fn (*Node) *Node,
    };
    ```
commit 101440c1990de653bbfb19713915d86d7a5bc182
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 23 17:14:51 2019 -0400

    add lazy value support for optional types
    
    this case works now:
    
    ```zig
    const Node = struct {
        node: ?*Node,
    };
    ```
commit 7d34e55a71b1d929c6e847337a3639f3e65a547e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 10:45:15 2019 -0400

    add a TODO compile error for union field alignment syntax See #3125

commit 8fef23a5250efc38b16b720f298a61d793ace4e3
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 13:36:42 2019 -0400

    add regression test for bug fixed by lazy values closes #1310
commit e1b258f39fcb4fff97a4fcf6ee9db10bb71646cc
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 13:44:04 2019 -0400

    add regression test for bug fixed by lazy values closes #624

commit 47fcbfdc51bcb9c9d518a76b8eee122833893660
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 17:39:06 2019 -0400

    add regression test for already fixed bug
    
    closes #3112

commit f4519c520a81439e524428258ad5aa441c9b0687
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 16:55:58 2019 -0400

    support self-referential struct through a slice of optional
    
    by making optionals even more lazy
    
    closes #1805

commit c1fd7ed6e2815b3317b4cb82ce85bf44149d7002
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 14:06:17 2019 -0400

    add regression test for struct with optional list of self
    
    closes #1735

commit 428a2fdedd1d2d9ce6c7a3b28a379e4484468b9c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 27 13:59:18 2019 -0400

    better handle struct depends on itself via optional field
    
    closes #1995

    

    <h2 id="Type"><a href="#toc-Type">@Type</a> <a class="hdr" href="#Type">ยง</a></h2>

    TODO pull the docs from lang ref


    <p>Thank you to Jonathan Marler for the original implementation of @Type.</p>
    

    <h2 id="Variable-Declarations-as-Methods"><a href="#toc-Variable-Declarations-as-Methods">Variable Declarations as Methods</a> <a class="hdr" href="#Variable-Declarations-as-Methods">ยง</a></h2>

    TODO
commit 9983501ff2cccf828bb357dddefb21e36813046d
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Tue Sep 24 17:53:05 2019 -0400

    add VarDecl support for struct-method call syntax implements #3306
    
    

    <h1 id="Standard-Library"><a href="#toc-Standard-Library">Standard Library</a> <a class="hdr" href="#Standard-Library">ยง</a></h1>

    <ul>
      <li>Sahnvour reworked <code class="zig">std.heap.DirectAllocator</code> to have more
        consistent behavior on Windows and POSIX. It no longer needs to be initialized with state;
        users of the API can now refer directly to a global (thread-safe) instance with
        <code class="zig">std.heap.direct_allocator</code>. On Windows, rather than being backed by
        <code>HeapAlloc</code>, it is backed by <code>VirtualAlloc</code>.
      </li>
      <li>Add doc comments for parameters in std.mem.Allocator.</li>
      <li>daurnimator improved <code class="zig">std.os.msghdr</code> definition.</li>
      <li>LemonBoy implemented <code>dl_phdr_info</code></li>
      <li><code class="zig">std.io.COutStream</code> gains basic Windows support.</li>
      <li>Ryan Liptak reduced the amount of redundant memcpy calls on Windows of
        <code class="zig">std.heap.DirectAllocator</code>.
    Previously the memory would be copied to a different aligned address in some cases where the old offset could have been used. This fixes it so that it will always try to use the old offset when possible, and only uses a different offset if the old one is truly invalid (not aligned or not enough space to store the alloc at the old offset).
      </li>
      <li>daurnimator added <code class="zig">std.heap.LoggingAllocator</code>.</li>
      <li>Shawn Landden fixed excessive calls to mmap and munmap in <code class="zig">std.heap.DirectAllocator</code>.</li>
      <li>daurnimator added <code class="zig">std.os.linux.sendmmsg</code>.</li>
      <li>daurnimator added <code class="zig">std.ArrayList.orderedRemove</code>.</li>
      <li>tgschultz added <code class="zig">std.PackedIntArray</code> and <code class="zig">std.PackedIntSlice</code>.</li>
      <li>LemonBoy implemented failsafe logic for posixSleep. Now we'll sleep for the specified amount of time
        even though the number of seconds doesn't fit in an <code class="zig"><span class="tok-type">isize</span></code> field.
        <br>
        After this commit, I made additional modifications:
        <br>
        The sleep APIs are now documented as having spurious wakeups and no
        precision of timing guaranteed. They also cannot fail. Now,
        the entire range of u64 is legal to pass to <code class="zig">std.os.time.sleep</code> and
        <code class="zig">std.os.time.posixSleep</code>. Values that do not fit in the native system APIs
        will cause a sleep for the longest possible duration and then be handled
        as a spurious wakeup.
      </li>
      <li>LemonBoy implemented <code class="zig">dl_iterate_phdr</code>.</li>
      <li>LemonBoy added <code>ARCH_SET_*</code> definitions for x86_64.</li>
      <li>daurnimator updated Linux syscalls and bits to 5.3. Notably this includes definitions for
        <code>io_uring</code>.</li>
      <li><code class="zig">std.os.close</code> now uses <code>close$NOCANCEL</code> on Darwin,
        so that it is impossible to fail.</li>
      <li>LemonBoy added sigaltstack syscall.</li>
      <li>LemonBoy fixed <code class="zig">std.os.mprotect</code> syscall.</li>
      <li>emekoi updated std.dynamic_library implementation and improved it to not require an allocator.</li>
      <li>LemonBoy added guard pages for each new thread spawned.</li>
      <li>NBonaparte removed the <code>MAP_LOCKED</code> flag from load_dynamic_library and enabled the now passing tests.</li>
      <li>tgschultz updated <code class="zig">std.meta</code> and <code class="zig">std.meta.trait</code>
        "definition" renamed to "declaration", to be inline with the newly clarified semantics of
        @hasDecl and @hasField.</li>
      <li>tgschultz fixed <code class="zig">Deserializer.alignToByte()</code> and added <a href="#Test-Coverage">Test Coverage</a>.</li>
      <li>emekoi made <code class="zig">windows.unexpectedError</code> print a human friendly string and
        fixed Windows API function prototypes.</li>
      <li>Shawn Landden added a <code>bcmp</code> implementation to zig's multi-target libc implementation.
        This is especially useful because LLVM 9 now emits calls to bcmp.</li>
      <li>daurnimator improved <code class="zig">std.testing.expectEqual</code> for structs.</li>
      <li>daurnimator renamed <code class="zig">std.LinkedList</code> to <code class="zig">std.TailQueue</code>.</li>
      <li>daurnimator added <code class="zig">std.SinglyLinkedList</code>, and improved
        <code class="zig">std.heap.ArenaAllocator</code> to use a singly linked list instead of double.</li>
      <li>daurnimator added <code class="zig">std.http.Headers</code>.</li>
      <li>Jonathan Marler removed <code class="zig"><span class="tok-kw">const</span></code> on <code class="zig">std.process.argsAlloc</code>.</li>
      <li>daurnimator added gimli permutation to <code class="zig">std.crypto</code>.</li>
      <li>Josh Wolfe added <code class="zig">std.mem.concat</code>.</li>
      <li>Added missing <code class="zig"><span class="tok-kw">error</span>.FileBusy</code> to <code class="zig">DeleteFileW</code>'s error set.</li>
      <li>emekoi added missing <code class="zig"><span class="tok-kw">error</span>.FileNotFound</code> for <code>PATH_NOT_FOUND</code> in
        <code class="zig">DeleteFileW</code>'s error set.</li>
      <li>Sam Tebbs added doc comments to alignment functions.</li>
      <li>Update the default panic handler on freestanding. Now the infinite loop has a
        <code class="zig"><span class="tok-builtin">@breakpoint</span>()</code> in there.</li>
      <li>Sam Tebbs added support for returning <code class="zig">!<span class="tok-type">u8</span></code> from <code>main()</code>.</li>
      <li><code class="zig">std.os.abort</code> no longer calls msvcrt abort() when linking libc. #2071</li>
      <li>Added <code class="zig">std.os.windows.subsystem</code>.</li>
      <li>daurnimator consolidated Linux <code>AT_</code> constants because they are the same across
        architectures. He fixed <code>MAP_</code> definitions to match the kernel. #2837</li>
      <li>Cap getdents length argument to <code>INT_MAX</code>. The linux syscall treats this
        argument as having type int, so passing extremely long buffer sizes would be misinterpreted
        by the kernel. Since "short reads" are always acceptable, just cap it down.</li>
      <li>Added <code class="zig">std.fs.updateFile</code>.</li>
      <li>Added <code class="zig">std.fs.File.updateTimes</code>.</li>
      <li><code class="zig">std.os.Stat</code> structs gain methods to abstract over the platform differences
        with regards to <code>mtime</code>, <code>ctime</code>, <code>atime</code>.</li>
      <li>Improved performance of <code class="zig">std.unicode.utf8ToUtf16Le</code>. On a simple test input:<br>
        <br>
        original utf8ToUtf16Le: elapsed: 111384483 ns (111 ms)<br>
        new utf8ToUtf16Le: elapsed: 138570 ns (0 ms)<br>
        <br>
        It's 800x faster in debug mode and ~4500x faster in release-fast mode. This was slowing
        down installation of files on Windows in build scripts.</li>
      <li>Joachim Henke improved startup code to avoid a register copy when fetching the stack pointer.</li>
      <li>Euan Torano implemented a check for <code>/dev/urandom</code> being a character device.
        This is a security measure. <code class="zig">std.os.getrandom</code> will return
        <code class="zig"><span class="tok-kw">error</span>.NoDevice</code> if <code>/dev/urandom</code> is not a character device.</li>
      <li>Christoffer Rasmussen fixed <code class="zig">std.rb.Tree.lookup</code> and added
        <a href="#Test-Coverage">Test Coverage</a>.</li>
      <li>daurnimator improved <code class="zig">std.elf.Elf</code> open functions to return <code>Elf</code>
        struct directly instead of filling in pointer. #2998</li>
      <li>Euan Torano made <code class="zig">std.os.getrandom</code> on FreeBSD use the
        <code class="zig">getrandom</code> libc function. #2993</li>
      <li>Euan Torano fixed the function signature of
        <code class="zig">std.os.windows.advapi32.RtlGenRandom</code>. #3015</li>
      <li>The return type of <code class="zig">std.math.min</code> on integer operands will now return
        the type of the smaller integer when possible.</li>
      <li>Added <code class="zig">std.c.printf</code>.</li>
      <li>daurnimator added <code class="zig">std.BloomFilter</code>.</li>
      <li>Shawn Landden modified startup code to avoid providing a <code class="zig">_start</code> function
        when the <a href="https://ziglang.org/documentation/0.5.0/#Root-Source-File">Root Source File</a>
        already has one. This enables Zig applications to export their own startup if they wish to
        take this level of responsibility.</li>
      <li>Tetralux added <code class="zig">std.heap.FixedBufferAllocator.reset</code>.</li>
      <li>Added <code class="zig">std.os.gethostname</code>.</li>
      <li>Added <code class="zig">std.ascii.allocLowerString</code>.</li>
      <li>Added <code class="zig">std.ascii.eqlIgnoreCase</code>.</li>
      <li>Added <code class="zig">std.ascii.indexOfIgnoreCasePos</code>.</li>
      <li>Added <code class="zig">std.ascii.indexOfIgnoreCase</code>.</li>
    </ul>

    <h2 id="Debug-Info-and-Stack-Traces"><a href="#toc-Debug-Info-and-Stack-Traces">Debug Info and Stack Traces</a> <a class="hdr" href="#Debug-Info-and-Stack-Traces">ยง</a></h2>

    <p>
    Previously, due to a bug, the stack trace iteration code was using the number of
    frames collected as the number of frames to print, not recognizing the
    fixed size of the buffer. So it would redundantly print items, matching
    the total number of frames ever collected. Now the iteration code is limited to
    the actual stack trace frame count, and will not print duplicate frames. #2447 #2151
    </p>
    <p>LemonBoy implemented a bunch of fixes for the DWARF parser (#2254):</p>
    <ul>
      <li>Correct parsing of DWARF line_info section.</li>
      <li>Fix reading of udata/sdata encoded attributes.</li>
      <li>Add definition for DW_AT_alignment - even though it's been
        standardized in DWARF5 some compilers produce it anyway for DWARF4 infos too.</li>
      <li>Fix reading of reference attributes.</li>
      <li>Distinguish between absolute/relative addresses.</li>
      <li>Fix bug in LEB128 parsing.</li>
      <li>Stop emitting <code>DW_TAG_lexical_block</code> for variable declarations.</li>
      <li>Made <code class="zig"><span class="tok-type">void</span></code> a signed type according to DWARF. This follows the
        convention set by C so that lldb stops complaining about it.</li>
      <li>Fixed DIFlags not getting propagated to LLVM.</li>
    </ul>
    <p>
    Thanks to this, and some other debug info fixes from LemonBoy, stack traces now work in release builds:
    </p>
    <p class="file">test.zig</p><pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);

<span class="tok-kw">fn</span> <span class="tok-fn">foo</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">error</span>.TheSkyIsFalling;
}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> foo();
}</code></pre><pre><code class="shell">$ zig build-exe test.zig --release-safe
$ ./test
error: TheSkyIsFalling
<span class="t37_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:4:5</span>: <span class="t2_0">0x20de63 in std.special.posixCallMainAndExit (test)</span>
    return error.TheSkyIsFalling;
    <span class="t32_1">^</span>
<span class="t37_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:8:5</span>: <span class="t2_0">0x20de6b in std.special.posixCallMainAndExit (test)</span>
    try foo();
    <span class="t32_1">^</span>
</code></pre>

    <p>
    LemonBoy additionally implemented reading symbol names from DWARF sections, so stack
    traces on Linux now have actual function names instead of <code>???</code>'s. You can see
    this in the above stack trace.
    </p>
    <p>
    There is an open issue with this, however -
    <a href="https://github.com/ziglang/zig/issues/2458">scanning all the symbol names is a bit slow</a>.
    A future improvement will improve the "Big-O" performance of this function, and bring Zig stack
    traces up to the same speed that one gets with, for example,
    <a href="https://www.gnu.org/software/gdb/">gdb</a>.
    </p>
    <p>
    Despite this trouble for debug info of very large Linux binaries, most projects will experience faster
    stack traces thanks to Marc Tiehuis switching to using <code>mmap</code> to read the debug info.
    Usually, such techniques are frowned upon due to making error handling difficult, however, this
    debug info code is currently designed for the use case of dumping a stack trace when
    the application has already panicked, and is about to abort. And so, an error in loading debug
    info from disk would be handled by aborting anyway.
    </p>
    <p>In addition, the following improvements were made:</p>
    <ul>
      <li>emekoi fixed debug info on Windows.</li>
      <li>Sahnvour improved correctness of Zig's coff and pdb implementation. It is now able to handle
        stage1 C++ compiler's PDB and print its stack traces. #2965</li>
      <li>Sahnvour improved stream reading performance of PDB code. Printing stack trace from a
        stage1 C++ compiler crash is now 10x faster.</li>
      <li>Fixed stack traces on macOS when passing absolute path to root source file. #2700</li>
      <li>Michael Dusan fixed a regression where stack traces stopped working on macOS, and then
        implemented <a href="#Test-Coverage">Test Coverage</a> for stack traces, to catch future regressions. #2485</li>
    </ul>
    

    <h2 id="Formatted-Printing"><a href="#toc-Formatted-Printing">Formatted Printing</a> <a class="hdr" href="#Formatted-Printing">ยง</a></h2>

    TODO
    <ul>
      <li>Ryan Liptak added max_depth to <code class="zig">std.fmt.format</code> to avoid infinite
        recursion from self-references.</li>
      <li>Marc Tiehuis cleaned up fmt.zig with inferred enum literals and split the large test case up.</li>
    </ul>
    TODO https://github.com/ziglang/zig/issues/1358
commit 8eaf1387c712c62e96fa165ac3390c8f8f924daa
Author: tgschultz <tgschultz@gmail.com>
Date:   Wed May 29 10:23:21 2019 -0500

    Fix fmt.zig handling of slices of slices
    
    Discovered while calling testing.expectError on an error union with payload [][]const u8. Even though the payload was not going to be printed, the current format handling caused a compile error anyway because it couldn't be casted to []const u8. The new handling treats a []u8 as a string but otherwise treats the slice as a pointer.


commit 11526b6e9da75ac682e59fbc2a37a738b8a23d6f
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Thu Jun 20 20:07:43 2019 +1200

    breaking: Add positional, precision and width support to std.fmt
    
    This removes the odd width and precision specifiers found and replacing
    them with the more consistent api described in #1358.
    
    Take the following example:
    
        {1:5.9}
    
    This refers to the first argument (0-indexed) in the argument list. It
    will be printed with a minimum width of 5 and will have a precision of 9
    (if applicable).
    
    Not all types correctly use these parameters just yet. There are still
    some missing gaps to fill in. Fill characters and alignment have yet to
    be implemented.
commit 08e8d30dd642e42d8b8b16f43b487dbf42adb5ba
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Tue Jun 25 17:11:04 2019 +1200

    Add parsing of fill and alignment in std.format
    
    These options are now available to use when printing, however nothing
    currently makes use of these.
commit a0ebfa64d9b8e98b31d37c80d118aab84f1a493e
Author: Evan Krause <evangrayk@gmail.com>
Date:   Sun Jul 28 18:37:35 2019 -0700

    support zero-sized structs in zig.fmt.format

commit bc982e65cf77aa6551029620ceaec8f3ae49202f
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Thu Jul 25 19:59:34 2019 -0400

    fix std.fmt to handle std.SegmentedList
    
    - add guards for use of prealloc_exp in SegmentedList
    - define prealloc_exp even when invalid because std.fmt comptime
      triggers lazy-init
    - fix std.fmt to print arrays of length 0 as style "[0]<typename>"
      because "<typename>@address" is n/a without address

commit 6844dafeca42daaf904bc4df0347c6fd625dbcaf
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Mon Aug 5 19:07:31 2019 +1200

    std/fmt: Move pointer parsing out of main state machine
    
    This allows us to format a pointer with alignment/padding as we would
    with any other format specifier.
    
    e.g. {*:5}
commit e0447c6ddd71d400fc501bf33c4cb33dde4e3300
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Mon Aug 19 22:28:13 2019 +1200

    std/fmt: Make FormatOptions arguments non-comptime
    
    No need and should help avoid exessive function monomorphizaton.

commit 98859c885e8e66518c1081c56d203cdd77c51ce8
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Sun Aug 18 11:17:16 2019 +1200

    std/fmt.zig: Pass full options struct to all internal functions
    
    The fill specifier is now handled in some cases. The default fill of '0'
    is now ' ' for integers and non-byte sequences.
    

    <h2 id="Math"><a href="#toc-Math">Math</a> <a class="hdr" href="#Math">ยง</a></h2>

    <p>
    Marc Tiehuis ported upstream changes from <a href="https://www.musl-libc.org/">musl</a>'s math functions.
    </p>
    <p>
    This also starts the documentation effort for the math/ subdirectory.
    The intent is to use this as a somewhat representative test-case for any
    work on the documentation generator.
    </p>
    <ul>
      <li>Marc Tiehuis added <code class="zig">std.math.big.Rational</code>.</li>
      <li>Marc Tiehuis fixed <code class="zig">std.math.big.Int.toString</code>, as well as
        handling zero-limb trailing div case and fixing divN/gcdLehmer and fuzz-test failures.</li>
      <li>Marc Tiehuis packed <code class="zig">std.math.big.Int</code> sign and length fields,
        taking it down from 40 to 32 bits on a 64-bit architecture.</li>
      <li>Marc Tiehuis added documentation for all functions and algorithm sources.</li>
      <li>Marc Tiehuis corrected <code class="zig">math.nan</code> usage in cos.</li>
      <li>Marc Tiehuis fixed exponent calculation in <code class="zig">std.fmt.parseFloat</code>.</li>
      <li>Ryan Liptak added <code class="zig">std.math.ceilPowerOfTwo</code> and
        <code class="zig">std.math.ceilPowerOfTwoPromote</code>. #2426</li>
      <li>Sahnvour allowed parameters of type <code class="zig"><span class="tok-type">comptime_int</span></code> in
        <code class="zig">std.math.shl</code> and <code class="zig">std.math.shr</code>.</li>
      <li>daurnimator added <code class="zig">std.math.isPowerOfTwo</code>, and
        Ryan Liptak updated the standard library to take advantage of it.</li>
    </ul>
    

    <h2 id="Thread-Local-Storage"><a href="#toc-Thread-Local-Storage">Thread Local Storage</a> <a class="hdr" href="#Thread-Local-Storage">ยง</a></h2>

    <p>Thanks to LemonBoy, Zig now has support for <code class="zig"><span class="tok-kw">threadlocal</span></code> variables on
    Linux without relying on libc, on the following architectures:</p>
    <ul>
      <li>x86_64</li>
      <li>i386 (new)</li>
      <li><a href="#32-bit-ARM-Support">32-bit ARM</a> (new)</li>
      <li><a href="#64-bit-ARM-Support">64-bit ARM</a> (new)</li>
      <li><a href="#RISC-V-Support">RISC-V</a> (new)</li>
      <li><a href="#MIPS-Support">MIPS</a> (new)</li>
    </ul>
    <p>
    In addition to wider architecture support, he implemented on-demand TLS allocation. Previously,
    if there were too many thread local variables, Zig would panic on startup.
    </p>
    <p>
    With these changes, Zig has proper support for TLS on Linux.
    </p>
    

    <h2 id="Reorganization-of-Operating-System-Abstractions"><a href="#toc-Reorganization-of-Operating-System-Abstractions">Reorganization of Operating System Abstractions</a> <a class="hdr" href="#Reorganization-of-Operating-System-Abstractions">ยง</a></h2>

    <p>
    In Zig 0.5.0, OS abstractions are organized in a straightforward manner.
    <code class="zig">std.os</code> is "Zig-flavored POSIX". All the "bits" familiar to C
    programmers are available in this namespace, such as <code class="zig">O_RDONLY</code> and
    <code class="zig">open</code>. The functions have errno translated to Zig errors (on Linux
    without libc, there is no <a href="#External-Thread-Local-Variables">thread local variable</a>
    for <code>errno</code> ๐) and slices are used rather than raw pointers where appropriate.
    </p>
    <p>
    Higher level, cross-platform abstractions are available in category-specific namespaces,
    for example <code class="zig">std.fs.File.openRead</code>.
    </p>
    <p>
    <code class="zig">std.os.windows</code> has "Zig-flavored Windows", with
    <code class="zig">GetLastError</code> translated to Zig errors. Raw Windows APIs are available
    directly via namespaces named after their DLLs, for example
    <code class="zig">std.os.windows.kernel32.ExitProcess</code>.
    </p>
    <p>
    Zig's optional integration with libc is significantly more robust. <code class="zig">std.os</code>
    functions call libc functions when linking against libc, and otherwise use the
    operating system's syscall ABI directly.
    </p>
    <p>After some experimentation, it was concluded that Windows
    does not integrate well with libc, and so on Windows, even when linking libc,
    the native Windows API calls are used rather than libc API.
    </p>
    <p>
    See #2380 for more details and discussion.
    </p>
    

    <h2 id="Recursive-Rewrite-of-Self-Hosted-Parser"><a href="#toc-Recursive-Rewrite-of-Self-Hosted-Parser">Recursive Rewrite of Self-Hosted Parser</a> <a class="hdr" href="#Recursive-Rewrite-of-Self-Hosted-Parser">ยง</a></h2>

    <p>
    Zig's self-hosted parser is in the standard library - <code class="zig">std.zig.parse</code>.
    It's the backbone of <a href="#zig-fmt">zig fmt</a>.
    </p>
    <p>
    I've <a href="https://www.recurse.com/events/localhost-andrew-kelley">said before</a> that
    recursion is one of the enemies of perfect software, because it represents a way that a
    program can fail with no foolproof way of preventing it. With recursion, pick any stack size
    and I'll give you an input that will crash your program. Embedded developers are all too
    familiar with this problem.
    </p>
    <p>
    It's always possible to rewrite code using an explicit stack using heap allocations, and
    that's exactly what Jimmi did in the self-hosted parser.
    </p>
    <p>This implementation of the self-hosted parser is an interesting case study of
    avoiding recursion by using an explicit stack. It is essentially a hand-written
    recursive descent parser, but with heap allocations instead of recursion.
    <a href="https://github.com/ziglang/zig/blob/0.3.0/std/zig/parse.zig#L12">This code is truly a work of art</a>.
    I like to call it "Jimmi's non-recursive recursive-descent parser".
    </p>
    <p>
    When Jimmi originally implemented the code, we thought that we could not solve the
    unbounded stack growth problem of recursion. However, now we have
    <a href="https://github.com/ziglang/zig/issues/1006">a plan for safe recursion</a>.
    </p>
    <p>
    And so it was time to lay the code to rest. This is where Stevie Hryciw came in. Stevie
    rewrote the entire self-hosted parser, to the full
    <a href="https://github.com/ziglang/zig-spec/">grammar specification</a>.
    This was a large project spanning across several weeks. During this time, Stevie endured
    painful rebases and dutifully updated <a href="https://github.com/ziglang/zig/pull/2405">the pull request</a>
    description to keep everyone informed.
    </p>
    <p>
    Stevie didn't stop there - he followed up by analyzing <a href="#Performance-Impact">Performance Impact</a> as well as
    <a href="#Readability-Impact">Readability Impact</a>. He writes:
    </p>

    <h3 id="Performance-Impact"><a href="#toc-Performance-Impact">Performance Impact</a> <a class="hdr" href="#Performance-Impact">ยง</a></h3>

    <p>
    Here are some
    <a href="https://gist.github.com/hryx/91a656944c55039139391939a052d990">informal tests of parser_test.zig with perf stat -d on x86_64 Linux</a>.
    </p>
    <p>
    In the absence of visualizations and more formal testing, some quick findings based on my system:
    </p>
    <ul>
      <li>CPU cycles, instructions, branches: -55%</li>
      <li>Page faults are roughly the same</li>
      <li>Real time elapsed: -45%</li>
    </ul>
    

    <h3 id="Readability-Impact"><a href="#toc-Readability-Impact">Readability Impact</a> <a class="hdr" href="#Readability-Impact">ยง</a></h3>

    <p>Indentation stats of <code>std/zig/parse.zig</code>:</p>
    <pre>master                          | stage2-recursive-parser
--------------------------------+---------------------------------
indent count                    | indent count
------------                    | ------------
    0     92                    |      0   263
    1    241                    |      1   803
    2    123                    |      2   763
    3    291                    |      3   334
    4    654                    |      4   133
    5    662                    |      5    60
    6    700                    |      6    28
    7    347                    |      7     5
    8    229                    |
    9     42                    |
   10     18                    |
avg indentation level: 4.796999 | avg indentation level: 1.827543
source lines of code:      3399 | source lines of code:      2389</pre>
    <ul>
      <li>Maximum indentation level went from 10 to 7</li>
      <li>Average indentation level went from 4.79 to 1.82</li>
      <li>Lines of code (excluding blank/comments) went from 3399 to 2389</li>
    </ul>
    
    

    <h2 id="Default-Segfault-Handler"><a href="#toc-Default-Segfault-Handler">Default Segfault Handler</a> <a class="hdr" href="#Default-Segfault-Handler">ยง</a></h2>

    <p>
    x86_64-linux and Windows now have, by default, a segfault handler that is attached before <code>main()</code>.
    Thanks to this, Zig programs now have stack traces for segfaults:
    </p>
    <p class="file">test.zig</p><pre><code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() <span class="tok-type">void</span> {
    dereferenceAPointer(<span class="tok-builtin">@intToPtr</span>(*<span class="tok-type">i32</span>, <span class="tok-number">0x1</span>));
}

<span class="tok-kw">fn</span> <span class="tok-fn">dereferenceAPointer</span>(ptr: *<span class="tok-type">i32</span>) <span class="tok-type">void</span> {
    ptr.* = <span class="tok-number">10</span>;
}</code></pre><pre><code class="shell">$ zig build-exe test.zig
$ ./test
Segmentation fault at address 0x1
<span class="t37_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:6:13</span>: <span class="t2_0">0x2281bd in dereferenceAPointer (test)</span>
    ptr.* = 10;
            <span class="t32_1">^</span>
<span class="t37_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:2:24</span>: <span class="t2_0">0x2280fd in main (test)</span>
    dereferenceAPointer(@intToPtr(*i32, 0x1));
                       <span class="t32_1">^</span>
<span class="t37_1">/home/andy/Downloads/zig/lib/std/special/start.zig:194:22</span>: <span class="t2_0">0x22718b in std.special.posixCallMainAndExit (test)</span>
            root.main();
                     <span class="t32_1">^</span>
<span class="t37_1">/home/andy/Downloads/zig/lib/std/special/start.zig:102:5</span>: <span class="t2_0">0x22706f in std.special._start (test)</span>
    @noInlineCall(posixCallMainAndExit);
    <span class="t32_1">^</span>
(process terminated by signal)</code></pre>

    <p>
    This can be disabled:
    </p>
    <p class="file">test.zig</p><pre><code class="zig"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> enable_segfault_handler = <span class="tok-null">false</span>;

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() <span class="tok-type">void</span> {
    dereferenceAPointer(<span class="tok-builtin">@intToPtr</span>(*<span class="tok-type">i32</span>, <span class="tok-number">0x1</span>));
}

<span class="tok-kw">fn</span> <span class="tok-fn">dereferenceAPointer</span>(ptr: *<span class="tok-type">i32</span>) <span class="tok-type">void</span> {
    ptr.* = <span class="tok-number">10</span>;
}</code></pre><pre><code class="shell">$ zig build-exe test.zig
$ ./test
(process terminated by signal)</code></pre>

    <p>This works because the standard library uses the new feature <a href="#importroot">@import("root")</a>
    to check for this opt-out.</p>
    <p>Thank you to Rocknest for a proof-of-concept implementation of this in #2355.</p>
    TODO show how this is integrated with stage1
    TODO emekoi added segfault handler support for windows
    

    <h2 id="HashMap-and-Hashing"><a href="#toc-HashMap-and-Hashing">HashMap and Hashing</a> <a class="hdr" href="#HashMap-and-Hashing">ยง</a></h2>

    <ul>
      <li>Ryan Liptak optimized <code class="zig">std.HashMap</code> indexing by avoiding modulo operator.
        <code class="zig">x % y</code> can be optimized if y is a power of two by doing
        <code class="zig">x &amp; (y-<span class="tok-number">1</span>)</code> instead. HashMap already enforces power of two capacity,
        so we can take advantage of this optimization.</li>
      <li>Ryan Liptak added public ensureCapacity fn to <code class="zig">std.HashMap</code>, and
          made it round up to the nearest power of two. It now optimizes for the expected count.
          Finally, he added <code class="zig">putAssumeCapacity</code>.</li>
      <li>Josh Wolfe added <code class="zig">std.HashMap</code> APIs that assert the common case:<ul>
          <li><code class="zig">putNoClobber()</code> for <code class="zig">put()</code></li>
          <li><code class="zig">removeAssertDiscard()</code> for <code class="zig">remove()</code></li>
        </ul>
      </li>
      <li>Josh Wolfe added <code class="zig">std.HashMap.getValue()</code>.</li>
      <li>Timon Kruiper fixed using <code class="zig">std.AutoHashMap</code> with an <code class="zig"><span class="tok-kw">enum</span></code>
        key. #2669</li>
      <li>andersfr added CityHash and Murmur hashing algorithms. #2887</li>
    </ul>
    Merge pull request #2797 from Sahnvour/hashing hash algorithm improvements
commit 54255ee32e1e6c83b04c3e5f2f1dd7e8aa5e0dd7
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Jul 16 22:32:10 2019 +0200

    autohash: force inlining of integer hashing so that the optimizer can see the fast path based on key's size which is known at comptime
    
    otherwise it will always outline the call to hasher.update, resulting in much worse performance

commit 3faf5d38576616d033c343130607189eb9fe613c
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Jul 16 20:31:02 2019 +0200

    wyhash: stateless is faster for both iterative hashing and small keys.

commit 4b5172d2879742b98e3e34b90b05ac28da9f39fe
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Jul 2 19:46:51 2019 +0200

    move autoHash into its own module since it can be used with any hash function implementing a streaming interface

commit 5bf63bfbf113d3921101311f1e3040890b94e798
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Jul 2 18:40:01 2019 +0200

    make use of hashing streaming interface in autoHash

commit 8805a7b50985fca23969beab8636fbfbecd857ee
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Jul 2 18:38:46 2019 +0200

    adapt http/headers.zig to wyhash's new interface

commit 4c93ccab5ad48ce61e4136c646b3123a06150083
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Mon Jul 1 23:23:40 2019 +1200

    Add throughput test program for hash functions

commit 83dffc70afe4956c56f570ce5c854b17cbd6f218
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Mon Jul 1 23:23:26 2019 +1200

    Add iterative wyhash api

commit c9ce43f59fc777055612aeea58db0849390bc204
Author: Sahnvour <sahnvour@pm.me>
Date:   Sun Jun 30 20:46:43 2019 +0200

    fix hashmap using strings as keys

commit 5bd407b27890fbed82891289e6a2bf2da93c2a41
Author: Sahnvour <sahnvour@pm.me>
Date:   Sun Jun 30 11:35:57 2019 +0200

    use wyhash in std's hashmap, and improve autoHash to handle more types and behave more correctly

commit 6150da3df99b41f89ea01a72e6c1b76fe4c36f89
Author: Sahnvour <sahnvour@pm.me>
Date:   Thu Jun 27 23:21:35 2019 +0200

    direct port of wyhash v2
    also inspired by https://github.com/ManDeJan/zig-wyhash

commit 16fa255f48ae2d290bc26ceb41489f2c3e21b96d
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Wed Aug 21 21:34:42 2019 +1200

    Inline full slice hashing
    
    This gives moderate speed improvements when hashing small keys.
    The crc/adler/fnv inlining did not provide enough speed up to warrant
    the change.
    
    OLD:
    
    wyhash
      small keys: 2277 MiB/s [c14617a1e3800000]
    siphash(1,3)
      small keys:  937 MiB/s [b2919222ed400000]
    siphash(2,4)
      small keys:  722 MiB/s [3c3d974cc2800000]
    fnv1a
      small keys: 1580 MiB/s [70155e1cb7000000]
    adler32
      small keys: 1898 MiB/s [00013883ef800000]
    crc32-slicing-by-8
      small keys: 2323 MiB/s [0035bf3dcac00000]
    crc32-half-byte-lookup
      small keys:  218 MiB/s [0035bf3dcac00000]
    
    NEW:
    
    wyhash
      small keys: 2775 MiB/s [c14617a1e3800000]
    siphash(1,3)
      small keys: 1086 MiB/s [b2919222ed400000]
    siphash(2,4)
      small keys:  789 MiB/s [3c3d974cc2800000]
    fnv1a
      small keys: 1604 MiB/s [70155e1cb7000000]
    adler32
      small keys: 1856 MiB/s [00013883ef800000]
    crc32-slicing-by-8
      small keys: 2336 MiB/s [0035bf3dcac00000]
    crc32-half-byte-lookup
      small keys:  218 MiB/s [0035bf3dcac00000]
commit 90e921f7a7356cda56e98367687889eb34ce0384
Author: Sahnvour <sahnvour@pm.me>
Date:   Sat Aug 24 12:52:00 2019 +0200

    wyhash: readd the stateful streaming version so that both are available
    
    and rename the stateless one so that's it is not the default option

commit 4c882e731f26aa595a2b6c17725f01bbc1974e37
Author: Sahnvour <sahnvour@pm.me>
Date:   Thu Aug 22 22:46:37 2019 +0200

    hash_map: adding a StringHashMap for convenience

commit 1498ccac2a7c4370ae09cd69a0f2ade7758fcd64
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Aug 13 21:14:21 2019 +0200

    auto_hash: better generic hashing implementation
    
    autoHash forbids slices as input
    hash was added to handle all types from autoHash plus slices, with a specified strategy

commit 326b7b794b01a1194df3785e497460bada756c29
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Tue Aug 27 20:13:57 2019 +1200

    Improve siphash performance for small keys by up to 30% (#3124)
    
    This removes the partial buffer handling from the full slice api.
    
    `./benchmark --filter siphash --count 1024`
    
    old
    
        siphash(1,3)
           iterative: 3388 MiB/s [67532e53a0d210bf]
          small keys: 1258 MiB/s [948c91176a000000]
        siphash(2,4)
           iterative: 2061 MiB/s [f792d39bff42f819]
          small keys:  902 MiB/s [e1ecba6614000000]
    
    new
    
        siphash(1,3)
           iterative: 3410 MiB/s [67532e53a0d210bf]
          small keys: 1639 MiB/s [948c91176a000000]
        siphash(2,4)
           iterative: 2053 MiB/s [f792d39bff42f819]
          small keys: 1074 MiB/s [e1ecba6614000000]
commit fbcdf78cbd5ff955d1aec0e55026168eed8d43f6
Author: Marc Tiehuis <marc@tiehu.is>
Date:   Mon Aug 26 22:32:39 2019 +1200

    Simplify wyhash and improve speed
    
    This removes the exposed stateless variant since the standard variant
    has similar speed now.
    
    Using `./benchmark --filter wyhash --count 1024`, the speed change has
    changed from:
    
        wyhash
           iterative: 4093 MiB/s [6f76b0d5db7db34c]
          small keys: 3132 MiB/s [28c2f43c70000000]
    
    to
    
        wyhash
           iterative: 6515 MiB/s [673e9bb86da93ea4]
          small keys: 10487 MiB/s [28c2f43c70000000]

commit 9d6f236728cf433b44048e21f81efdd167fe0098
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Sep 3 23:56:04 2019 +0200

    add fastpath for std.mem.eql and simplify std.hash_map.eqlString
    
    this should also be friendlier to the optimizer

commit f08c6e4fe6ad63145ef69377f36f34e9f04cadec
Author: Sahnvour <sahnvour@pm.me>
Date:   Tue Sep 3 23:53:05 2019 +0200

    changing occurrences of HashMap with []const u8 as keys for StringHashMap

    
    

    <h1 id="Documentation"><a href="#toc-Documentation">Documentation</a> <a class="hdr" href="#Documentation">ยง</a></h1>

    <ul>
      <li>There is now a <a href="https://github.com/ziglang/zig/blob/0.5.0/CONTRIBUTING.md">CONTRIBUTING.md</a>.</li>
      <li>Added docs: <a href="https://ziglang.org/documentation/0.5.0/#Enum-Literals">Enum Literals</a></li>
      <li>Added docs: <a href="https://ziglang.org/documentation/0.5.0/#usingnamespace">usingnamespace</a></li>
      <li>@truncate docs are updated and corrected. #2234</li>
      <li>Matt Stancliff fixed a test in the langref to assert against modified var.</li>
      <li>Ryan Liptak added README instructions for making changes to the standard library. #2324</li>
      <li>Ryan Liptak fixed README instructions for the filepath to test file when testing std lib changes.</li>
      <li>Add note to @setRuntimeSafety.</li>
      <li>Remove <code>@setGlobalLinkage</code> section. <code>@setGlobalLinkage</code> was removed with
        #462. The not-yet-implemented proposal for external weak symbols is #1917.</li>
      <li>Shritesh Bhattarai improved the language reference to show the <code>-target</code>
      command line argument.</li>
      <li>Many contributors fixed typos in small, easy-to-merge pull requests. Thank you for that.</li>
      <li>Shritesh Bhattarai added lib codeblock type to docgen and used it for wasm32-freestanding.</li>
      <li>Shritesh Bhattarai added recommendation to use optional pointers for nullptrs instead of
        <code class="zig"><span class="tok-kw">allowzero</span></code>.</li>
      <li>Shritesh Bhattarai added a comment about <code class="zig"><span class="tok-kw">for</span> <span class="tok-kw">else</span></code> and <code class="zig"><span class="tok-kw">break</span></code>.</li>
      <li>Jonathan Pentecost updated <code class="zig"><span class="tok-kw">for</span> <span class="tok-kw">else</span></code> example. #2614</li>
      <li>emekoi added missing syntax blocks.</li>
      <li>Michael Dusan clarified struct size and ABI-alignment.</li>
      <li>Corrected documentation regarding mixing object files. #2905</li>
      <li>Retire the <code>example/</code> folder. Code moved to become standalone tests. #2759</li>
      <li>JohnathanFL added a multidimensional array example.</li>
      <li>Added operations list to @atomicRmw.</li>
      <li>Aaron Klapatch added documentation for field access to C pointers. #3088</li>
      <li>Shritesh improved the README instructions for macOS to use the LLVM path provided by homebrew
        instead of a hardcoded value that became out-of-date.</li>
      <li>Vesa Kaihlavirta shortened @field documentation and added an example.</li>
      <li>Jay Weisskopf updated README headline to match website, and made links underlined on hover.</li>
      <li>Duncan added a favicon to the language reference.</li>
      <li>Shawn Landden updated @clz and @ctz, clarifying terminology to not be endian-specific.</li>
    </ul>
    

    <h1 id="zig-build"><a href="#toc-zig-build">zig build</a> <a class="hdr" href="#zig-build">ยง</a></h1>

    TODO
commit 9e3189f1f460cd141e849ff5f868bdc6d5268e4e
Author: emekoi <emekankurumeh@outlook.com>
Date:   Wed Jul 3 13:17:43 2019 -0500

    forward error code on non-exits
    forward error code build.zig
commit a8b3b5f11cc792391065ed7235887f01d668926d
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jul 4 15:32:44 2019 -0400

    zig build: install is now the default step; default prefix is zig-cache closes #2817
commit 72800f176e7065ea68a86a3aa0c3dfab33a24702
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jul 4 17:43:56 2019 -0400

    zig build: search upwards for build.zig file closes #2587

commit d39dcd6d9db2faf18287b2ff734ffda0d4080e5a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 7 11:31:07 2019 -0400

    zig build: add setLibCFile API
commit eebb00193d9e4531438b0f8c5dbcbea9a90e6a7e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jul 8 18:48:03 2019 -0400

    zig build: install .pdb files along with binaries
    
    closes #2848
commit ae2345b742053a84e1f64f92b76202702ac872d9
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Jul 9 13:31:42 2019 -0400

    zig build: add standardTargetOptions and deprecate setTarget
    
    in favor of setTheTarget
commit 1d07bbbef23993338b231fbd9d7bbf5a349c5f31
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jul 18 20:03:38 2019 -0400

    zig build: add valgrind cli options
commit 77c2ac3fcd27b114b0068d3b64b3d884aa71e4ef
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 21 18:04:23 2019 -0400

    zig build: support DESTDIR environment variable
    
    closes #2929
commit d6d0bb054219da26a55f880f48f00902a4fbaf56
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jul 22 10:45:59 2019 -0400

    zig build: adjust DESTDIR logic
    
    now if DESTDIR is provided then the default install prefix is /usr.
    otherwise the default install prefix is still zig-cache directly.
    
    DESTDIR is prepended to the prefix to match what make install does.
commit 8736a5be2ac280db8fd34c86efd1b764a255f23c
Author: Nick Erdmann <n@nirf.de>
Date:   Fri Jul 26 15:01:49 2019 +0200

    std/build.zig: fix stack checking option
-            try zig_args.append("--disable-stack-probing");
+            try zig_args.append("-fno-stack-check");
commit e40513e97ff57960165b30a6b9fecfaad95bd1aa
Author: Benjamin Feng <benjamin.feng@glassdoor.com>
Date:   Wed Jul 31 21:26:39 2019 -0500

    Add builder.findProgram test and fix references
commit fc0f8d0359777580c771848361166f97a85deddd
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Sep 3 16:19:10 2019 -0400

    zig build: make install prefix available to build.zig and
    
    prevent accident of '/' showing up in application/library names

commit 29b82d20a4534fc7e3393c21ad637d44d20449a2
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Sep 23 13:33:43 2019 -0400

    zig build: linkSystemLibrary integrates with pkg-config
    
    

    <h1 id="zig-fmt"><a href="#toc-zig-fmt">zig fmt</a> <a class="hdr" href="#zig-fmt">ยง</a></h1>

    <p>
    <code>zig fmt</code> now fixes invalid whitespace instead of rejecting it.
    The <code class="zig"><span class="tok-comment">// zig fmt: off</span></code> directive is ignored for whitespace fixes.
    </p>
    <ul>
      <li>Raul Leal added support for comptime blocks in containers. #2308</li>
      <li>Various bugs fixed, more <a href="#Test-Coverage">Test Coverage</a>.</li>
      <li>Timon Kruiper corrected formatting for multiline string in arrays.</li>
      <li>Timon Kruiper added LineComment support and test case for when MultiLines are used in ArrayInit.</li>
      <li>Vexu fixed comment formatting in arrays and fn params.</li>
      <li>Vexu fixed IfTypeExpr parsing.</li>
      <li>Vexu improved comment indentation in arrays.</li>
      <li>Vexu fixed comments getting removed after empty comments.</li>
      <li>Stevie Hryciw fixed crash when file ends with struct field.</li>
      <li>Benjamin Feng fixed zig fmt reinterpreting <code>a &amp;&amp; b</code> as <code class="zig">a &amp; &amp;b</code>. Now it has a helpful error message: "`&amp;&amp;` is invalid. Note that `and` is boolean AND.". #2660</li>
      <li>Timon Kruiper fixed an integer overflow in zig fmt and added testcase.</li>
      <li>Vexu implemented <a href="#Async-Functions">Async Functions</a> syntax, including <code class="zig"><span class="tok-kw">noasync</span></code>.</li>
    </ul>
    <p>
    Thanks to <a href="#WebAssembly-Support">WebAssembly Support</a> improvements, there is also a
    <a href="https://shritesh.github.io/zigfmt-web/">web-based formatter</a> made
    by Shritesh Bhattarai.
    </p>
commit c98f792ff8ed7af0d5e427836600c2ed7b30965e
Author: yvt
Date:   Wed Aug 28 15:35:49 2019 +0900

    Improve the handling of `zig fmt: off/on`
    
    This commit reworks the handling of `zig fmt: off/on`. A motivating
    example is shown below:
    
        const c = d;
        // zig fmt: off
        // comment
        const a = b;
        // zig fmt: on
    
    Before processing the decl `const a = b;`, `renderRoot` looks for
    `zig fmt: off` that appears between this decl and the previous one. If
    it finds one, it searches for the next `zig fmt: on` that re-enables
    reformatting (or EOF if none was found), and copies the input code
    between `zig fmt: off` and `zig fmt: on` to the output stream. After
    that, it proceeds to the next decl.
    
    The important thing to notice here is that `renderTopLevelDecl` emits
    line comment tokens that follow the decl. Therefore, when copying code,
    we must be careful not to copy the line comment tokens that already have
    been written to the output stream. The original code failed to take this
    fact into consideration. It did skip `// zig fmt: off`, but not the
    remaining ones. As a result, when the above example is fed as input, it
    duplicated the line `// comment`.
commit 9f4d44bc491b907dbe11fbc8cd70749606b2236c
Author: Hong Shick Pak <hong@hspak.com>
Date:   Thu Aug 29 21:10:26 2019 -0700

    zig fmt: fix nested if
    

    <h1 id="libc"><a href="#toc-libc">libc</a> <a class="hdr" href="#libc">ยง</a></h1>

    <p>
    Zig now provides libc for the following targets (find this information with <code>zig targets</code>):
    </p>
    <ul style="columns: 3">
<li>aarch64_be-linux-gnu</li>
<li>aarch64_be-linux-musl</li>
<li>aarch64_be-windows-gnu</li>
<li>aarch64-linux-gnu</li>
<li>aarch64-linux-musl</li>
<li>aarch64-windows-gnu</li>
<li>armeb-linux-gnueabi</li>
<li>armeb-linux-gnueabihf</li>
<li>armeb-linux-musleabi</li>
<li>armeb-linux-musleabihf</li>
<li>armeb-windows-gnu</li>
<li>arm-linux-gnueabi</li>
<li>arm-linux-gnueabihf</li>
<li>arm-linux-musleabi</li>
<li>arm-linux-musleabihf</li>
<li>arm-windows-gnu</li>
<li>i386-linux-gnu</li>
<li>i386-linux-musl</li>
<li>i386-windows-gnu</li>
<li>mips64el-linux-gnuabi64</li>
<li>mips64el-linux-gnuabin32</li>
<li>mips64el-linux-musl</li>
<li>mips64-linux-gnuabi64</li>
<li>mips64-linux-gnuabin32</li>
<li>mips64-linux-musl</li>
<li>mipsel-linux-gnu</li>
<li>mipsel-linux-musl</li>
<li>mips-linux-gnu</li>
<li>mips-linux-musl</li>
<li>powerpc64le-linux-gnu</li>
<li>powerpc64le-linux-musl</li>
<li>powerpc64-linux-gnu</li>
<li>powerpc64-linux-musl</li>
<li>powerpc-linux-gnu</li>
<li>powerpc-linux-musl</li>
<li>riscv64-linux-gnu</li>
<li>riscv64-linux-musl</li>
<li>s390x-linux-gnu</li>
<li>s390x-linux-musl</li>
<li>sparc-linux-gnu</li>
<li>sparcv9-linux-gnu</li>
<li>wasm32-freestanding-musl</li>
<li>x86_64-linux-gnu</li>
<li>x86_64-linux-gnux32</li>
<li>x86_64-linux-musl</li>
<li>x86_64-windows-gnu</li>
    </ul>
    TODO libc headers before C language headers, and disable libunwind on arm32
    <h2 id="musl-1123"><a href="#toc-musl-1123">musl 1.1.23</a> <a class="hdr" href="#musl-1123">ยง</a></h2>

    TODO 
    TODO note that we have <a href="#Test-Coverage">Test Coverage</a> for building musl now.
commit 291aaee97773e2f9c40e061410db52ca00f4d651
Author: LemonBoy <thatlemon@gmail.com>
Date:   Sat Jun 1 16:59:12 2019 +0200

    Stop the musl builder from skipping necessary files
    
    The code assumed that the architecture-specific bits, found in the arch/
    subfolder, were only overrides for the generic .c files.
    
    Changed the logic to always include the whole architecture-specific
    implementations and discard the generic ones, this way we won't exclude
    files with no .c counterpart.
commit ec92739022244154f4a7de7dab81dfad018a7954
Merge: b1f8b53d d9943791
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Jul 16 20:07:05 2019 -0400

    Merge branch 'update-musl'
    
    closes #2601

commit d99437917363d0b550af5e20360bd07bc98367ba
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Jul 16 19:54:14 2019 -0400

    update bundled musl source to 1.1.23

commit f70ce707e2d35a5ed8349d03b6aa8d493792e180
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Jul 16 19:02:51 2019 -0400

    update musl headers to musl v1.1.23
commit fed5c12d9a2ab14c5bb66251ba6ee3e356bce8d3
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 30 15:02:23 2019 -0400

    musl: fix alltypes.h and syscall.h not being correct
    
    The previous
    [instructions](https://github.com/ziglang/zig/wiki/Updating-libc) for
    updating musl libc headers had this (repeated for each architecture):
    
    make DESTDIR=build-all/arm install-headers ARCH=arm
    
    However musl's build system does not properly rebuild alltypes.h and
    syscall.h from source, instead using whatever is cached from the
    previous build. In the case of the previous time that I updated to musl
    1.1.23, this happened to be the aarch64 architecture.
    
    As a workaround, one can remove the obj/ directory to force rebuilding
    this file. Now the instructions say this (repeated for each architecture):
    
    rm -rf obj/ && make DESTDIR=build-all/arm install-headers ARCH=arm
    
    This commit updates the resulting headers after this workaround is
    applied and the process headers tool is run again.
    

    <h2 id="glibc-230"><a href="#toc-glibc-230">glibc 2.30</a> <a class="hdr" href="#glibc-230">ยง</a></h2>

    TODO
    TODO mention <a href="#Test-Coverage">Test Coverage</a> and the option to test foreign glibcs
commit 336ddb80110ed66582674c73aa5b2bcf7f2aac1b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 7 17:24:49 2019 -0400

    add -target-glibc to cli help and zig build

commit 7ccf7807b3f12428adc5d9ca0ede4e3f4ec6dbbc
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 7 17:06:09 2019 -0400

    ability to target any glibc version

commit 3b97940fb384285a8f88088c9e73e582f8bdbf96
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jul 6 20:58:45 2019 -0400

    add an update_glibc tool, delete dummy libc files
    
    This is the beginning of supporting minimum GLIBC version as part of the
    target. See #2509 for the motivation.
    
    The dummy libc zig files are removed. A future commit will build them
    on-the-fly, using the generated text files generated by the new tool,
    which are checked into source control and distributed along with zig.
    
    These generated text files are, together, 142KB (20KB gzipped).
    Compare that to a naive bundling of the .abilist files, which would be
    2.2MiB (375KB gzipped).
    
    This is based on glibc 2.29.

commit 56d818565015b8213f6c070236658c8796c86d0a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 7 17:55:25 2019 -0400

    expose glibc version in builtin

commit fc9e28ea37e0110836d6958c39ffe78ea6cad0f3
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jul 8 14:26:40 2019 -0400

    std.os.getrandom does a libc version check closes #397
commit d3cf040c900c14feec427f3835f247b6a4c616bb
Merge: 9a18db8a b21ad077
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Sep 7 15:08:47 2019 -0400

    Merge branch 'glibc-2.30'
    
    closes #3098

commit b21ad07767822070903633476f74f167c1793758
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Sep 7 15:04:09 2019 -0400

    update glibc ABI lists to 2.30

commit 45ab9d5fd6c581d6879eae8a58c67a7b5b18fadf
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Sep 7 14:59:38 2019 -0400

    update glibc headers to 2.30

commit 7101e583d6a752fa1145c13c6e1a58f36bd35f2d
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Sep 10 16:39:02 2019 -0400

    update glibc src files to 2.30
commit ce0e7940926ec4c4eeb95e2d5b67554de3863a56
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Sep 27 18:19:21 2019 -0400

    fix glibc builds on aarch64-linux-gnu
    
    There was a missing include path in the compilation line, leading to
    incorrect fstat ABI.
    
    closes #3291
    

    <h2 id="Zig-ships-with-mingw-w64"><a href="#toc-Zig-ships-with-mingw-w64">Zig ships with mingw-w64</a> <a class="hdr" href="#Zig-ships-with-mingw-w64">ยง</a></h2>

    TODO
    TODO show cross compiling hello.c targeting windows, running with wine
    TODO mention swarkland and zig package manager plans
    ship with mingw-w64 v6.0.0 See #514
    thank you to the IRC person who helped me a ton.
    shout outs to mingw-w64 team for making their headers multi-arch
    

    <h2 id="Freestanding-libc"><a href="#toc-Freestanding-libc">Freestanding libc</a> <a class="hdr" href="#Freestanding-libc">ยง</a></h2>

    TODO explain what it is
    TODO move other release notes to here / references
    <ul>
    <li>Shawn Landden added fma and fmaf.</li>
    </ul>
    
    

    <h1 id="C-Translation"><a href="#toc-C-Translation">C Translation</a> <a class="hdr" href="#C-Translation">ยง</a></h1>

    <p>LemonBoy made several improvements:</p>
    <ul>
      <li>conversion to/from floating point types.</li>
      <li>parsing float/double literals.</li>
      <li>converting char literals.</li>
      <li>support for integer to boolean conversions.</li>
      <li>pointer to/from integral conversion.</li>
      <li>translation from pointer to boolean.</li>
      <li>improved support for pointer casting with different alignment.</li>
    </ul>
    <p>Thanks to <a href="#C-Pointers-Support-Optional-Syntax">C pointers supporting optional syntax</a>,
    <code>NULL</code> pointers now translate to <code class="zig"><span class="tok-null">null</span></code>.</p>
    <p>Additionally:</p>
    <ul>
      <li>handle int to ptr and ptr to int casting. #2451</li>
      <li>added enough C tokenization/parsing to handle shifting in macros. #2451</li>
      <li>better detection of pointer to struct demoted to opaque.</li>
      <li>Vexu fixed translation of escape sequences.</li>
      <li>Gustav Olsson forwarded framework dirs to embedded Clang in addition to linker on macOS.</li>
    </ul>

    <h2 id="Self-Hosted-C-Translation"><a href="#toc-Self-Hosted-C-Translation">Self-Hosted C Translation</a> <a class="hdr" href="#Self-Hosted-C-Translation">ยง</a></h2>

    <p>
    In Zig 0.4.0, the <code>translate-c</code> and @cImport implementations are 5,000 lines of C++.
    However, in this release, Zig is transitioning to a fully self-hosted implementation.
    </p>
    <p>
    The parts of <code>translate_c.cpp</code> that interact with the Clang C++ API have been extracted
    into <code>zig_clang.h</code> and <code>zig_clang.cpp</code>. This is a C API on top of the C++ API
    with some careful static assertions to ensure the file is kept up-to-date as Clang's C++ API changes.
    <code>translate_c.cpp</code> now interacts with the Clang C++ API exclusively via <code>zig_clang.h</code>.
    These files are generally useful for any project and they are MIT licensed.
    </p>
    <p>
    Based on <code>zig_clang.h</code>, <code>clang.zig</code> is created, updated, and maintained. This is
    extern functions and types so that Zig code can utilize the C layer on top of the Clang C++ API.
    And with this, we have <code>src-self-hosted/translate_c.zig</code> which is the self-hosted implementation
    of <code>translate-c</code> (and @cImport). This is exposed with <code>zig translate-c-2</code>.
    Until the self-hosted implementation is brought up to feature parity, <code>zig translate-c</code>
    and @cImport are still the C++ implementation. This work is partially done thanks to Stevie Hryciw;
    TODO give more specific credit to hryx about what he did with translate-c, it was a lot of work
    TODO mikdusan helped too fixing memory issue
    TODO Sahnvour helped too fixing APValue on Windows
    you can get a sense of progress by
    <a href="https://github.com/ziglang/zig/blob/0.5.0/test/translate_c.zig">examining the test cases</a>.
    More contributions welcome!
    </p>
    <p>
    See #1964 for more details.
    </p>
    
    

    <h1 id="compiler-rt"><a href="#toc-compiler-rt">compiler-rt</a> <a class="hdr" href="#compiler-rt">ยง</a></h1>

    <p>
    compiler-rt is the library that provides, for example, 64-bit integer multiplication for
    32-bit architectures which do not have a machine code instruction for it.
    In the <a href="https://gcc.gnu.org/">gcc</a> world, it's called libgcc.
    </p>
    <p>
    Unlike most compilers, which depend on a binary build of compiler-rt being installed alongside
    the compiler, Zig builds compiler-rt on-the-fly, from source, as needed for the target platform.
    This release saw some improvements to Zig's compiler-rt implementation.
    </p>
    <ul>
      <li>@divTrunc rather than @divFloor in <code>__muloti4</code>.</li>
      <li>Added __muldi3 and __aeabi_lmul.</li>
      <li>vegecode improved support for thumb and added:
        <ul>
          <li>__aeabi_dcmp</li>
          <li>__aeabi_fcmp</li>
          <li>__comparedf2</li>
          <li>__comparesf2</li>
        </ul>
      </li>
      <li>LemonBoy added:
        <ul style="columns: 2">
          <li>__aeabi_d2f</li>
          <li>__aeabi_f2d</li>
          <li>__aeabi_i2d</li>
          <li>__aeabi_i2f</li>
          <li>__aeabi_idiv</li>
          <li>__aeabi_idiv</li>
          <li>__aeabi_idiv</li>
          <li>__aeabi_idivmod</li>
          <li>__aeabi_l2d</li>
          <li>__aeabi_ldivmod</li>
          <li>__aeabi_ui2d</li>
          <li>__aeabi_ul2d</li>
          <li>__aeabi_unwind_cpp_pr0</li>
          <li>__aeabi_unwind_cpp_pr1</li>
          <li>__aeabi_unwind_cpp_pr2</li>
          <li>__ashlti3</li>
          <li>__ashrti3</li>
          <li>__divdi3</li>
          <li>__divmoddi4</li>
          <li>__divmodsi4</li>
          <li>__divsi3</li>
          <li>__divsi3</li>
          <li>__divsi3</li>
          <li>__extendsfdf2</li>
          <li>__floatdidf</li>
          <li>__floatsidf</li>
          <li>__floatsisf</li>
          <li>__floatsitf</li>
          <li>__floatundidf</li>
          <li>__floatunsidf</li>
          <li>__lshrti3</li>
          <li>__moddi3</li>
          <li>__modsi3</li>
          <li>__mulodi4</li>
          <li>__truncdfsf2</li>
          <li>__umodsi3</li>
        </ul>
      </li>
    </ul>
    <p>
    LemonBoy also fixed an edge case in <code>addXf3</code> - since the operands may be zero,
    he used the wrapping operators to avoid a spurious integer-overflow error. He then proceeded
    to other fixes:
    </p>
    <ul>
      <li>Fixed float comparison result in <code>__aeabi_{f,d}cmp*</code>.</li>
      <li>Avoid endless recursion in <code>__extendhfsf2</code> using @bitCast.</li>
    </ul>
    <p>
    With Zig 0.5.0, compiler-rt much more complete, but not fully. There are some
    <a href="https://github.com/ziglang/zig/issues/1290">missing functions</a>,
    and it's planned to do <a href="https://github.com/ziglang/zig/issues/1504">an audit</a>
    before 1.0.
    </p>
commit cd02630da82b6b0a59583160b12c286a7aec7f8c
Author: Carter Sande <carter.sande@duodecima.technology>
Date:   Mon Jun 24 22:32:50 2019 -0700

    compiler-rt: Support thumb versions older than armv6
    
    Add versions of __aeabi_memset and __aeabi_memclr which do not use mov
    instructions between low registers, as this is unsupported on thumbv4t
    and thumbv5.
commit 2323da3a680f48207d35db26f63ea0553e74d956
Author: Robin Voetter <robin@voetter.nl>
Date:   Thu Aug 29 18:12:58 2019 +0200

    add __aeabi_read_tp

    

    <h1 id="Test-Coverage"><a href="#toc-Test-Coverage">Test Coverage</a> <a class="hdr" href="#Test-Coverage">ยง</a></h1>

    TODO
     * add -Dskip-non-native build option to build script

     TODO link to coverage report?

    <p>Michael Dusan implemented a new kind of test coverage for stack traces, to catch future regressions
    of stack traces.</p>
commit a19e73d8ae0bc5b7ac19b1bc72aa1fdb8f86d80f
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Mon May 27 20:07:05 2019 -0400

    test: add compare-panic
    
    `zig build test-compare-panic`
    
    Create basic tests to compare panic output. The address field
    is replaced by a symbolic constant and each expected output is
    specific to os. Tests will only run for explicitly defined
    platforms.
    
    see also #2485

     <ul>
     <li>Sahnvour implemented slightly better output for failure of tests based on text comparison.</li>
     </ul>
     TODO mention running out of RAM

    compile error tests only for debug mode

    stage1 assertions always on, and have stack traces

    disable building self hosted compiler in test suite
    
    Rather than fixing regressions with deprecated coroutines, I'm going
    to let them regress more until #2377 is solved.


    avoid std.debug.global_allocator in http headers tests

    release builds of stage1 have llvm ir verification. the stage2 zig code however gets compiled in release mode,
    and stripped.
commit 8bd5681651f64c7ebe059e6d7b288ddc60658cd5
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Mon Sep 9 17:57:32 2019 -0400

    fix tests.addPkgTests to always run native target
    
    - include native-target when native-target โ cross_targets
    
    old behavior:
    
    - do nothing when `-Dskip-non-native`
    - never execute pkg tests for non-members of cross_targets
commit ffef5d26b6bbaf52d80c74ac3879a233a7a1a513
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Sep 21 23:55:56 2019 -0400

    significantly increase test coverage
    
     * add zig build option `-Dskip-libc` to skip tests that build libc
       (e.g. if you don't want to wait for musl to build)
     * add `-Denable-wine` option which uses wine to run cross compiled
       windows tests on non-windows hosts
     * add `-Denable-qemu` option which uses qemu to run cross compiled
       foreign architecture tests
     * add `-Denable-foreign-glibc=path` option which combined with
       `-Denable-qemu` enables running cross compiled tests that link
       against glibc. See
       https://github.com/ziglang/zig/wiki/Updating-libc#glibc for how to
       produce this directory.
     * the test matrix is done manually. release test builds are only
       enabled by default for the native target. this should save us some CI
       time, while still providing decent coverage of release builds.
       - add test coverage for `x86_64-linux-musl -lc` (building musl libc)
       - add test coverage for `x86_64-linux-gnu -lc` (building glibc)
       - add test coverage for `aarch64v8_5a-linux-none`
       - add test coverage for `aarch64v8_5a-linux-musl -lc` (building musl libc)
       - add test coverage for `aarch64v8_5a-linux-gnu -lc` (building glibc)
       - add test coverage for `arm-linux-none`
       - test coverage for `arm-linux-musleabihf -lc` (building musl libc) is
         disabled due to #3286
       - test coverage for `arm-linux-gnueabihf -lc` (building glibc) is disabled
         due to #3287
       - test coverage for `x86_64-windows-gnu -lc` (building mingw-w64) is
         disabled due to #3285
     * enable qemu testing on the Linux CI job. There's not really a good
       reason to enable wine, since we have a Windows CI job as well.
     * remove the no longer needed `--build-file ../build.zig` from CI
       scripts
     * fix bug in glibc compilation where it wasn't properly reading the abi
       list txt files, resulting in "key not found" error.
     * std.build.Target gains:
       - isNetBSD
       - isLinux
       - osRequiresLibC
       - getArchPtrBitWidth
       - getExternalExecutor
     * zig build system gains support for enabling wine and enabling qemu.
       `artifact.enable_wine = true;`, `artifact.enable_qemu = true;`. This
       communicates that the system has these tools installed and the build
       system will use them to run tests.
     * zig build system gains support for overriding the dynamic linker of
       an executable artifact.
     * fix std.c.lseek prototype. makes behavior tests for
       arm-linux-musleabihf pass.
     * disable std lib tests that are failing on ARM. See #3288, #3289
     * provide `std.os.off_t`.
     * disable some of the compiler_rt symbols for arm 32 bit. Fixes
       compiler_rt tests for arm 32 bit
     * add __stack_chk_guard when linking against glibc. Fixes std lib tests
       for aarch64-linux-gnu
     * workaround for "unable to inline function" using `@inlineCall`. Fixes
       compiler_rt tests for arm 32 bit.

commit 786052c7d33973bf0bb34483301142b07bd48880
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Sep 22 14:40:54 2019 -0400

    disable running cross compiled macos tests
    
    due to #3295
commit cf4cc9b148e069b46a197d0423e4d25654aea26c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Sep 22 14:41:47 2019 -0400

    do the release tests last because they take longer

commit 12b195f9d507bfc0aa4d0199972ae32d096ef1ad
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Sep 22 15:32:52 2019 -0400

    ci: update windows image to MSVC 2019

commit 65b495af58bcd010b997d9036ee39808451ef76c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Sep 22 15:59:06 2019 -0400

    windows CI: use MinSizeRel to work around MSVC bug
    
    See #3024

commit 96affd683a302402d470f9a41b801f2e42639859
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Sep 22 19:11:41 2019 -0400

    enable test coverage for cross compiling windows mingw-w64
    
    closes #3285
    

    <h1 id="Miscellaneous-Improvements"><a href="#toc-Miscellaneous-Improvements">Miscellaneous Improvements</a> <a class="hdr" href="#Miscellaneous-Improvements">ยง</a></h1>

    <ul>
      <li>freestanding target adds -ffreestanding to cc parameters. #2287</li>
      <li>hryx synchronized the grammar with the spec.</li>
      <li>@sizeOf is now defined to return <code>0</code> for <code class="zig"><span class="tok-kw">comptime</span></code> types.
    This defines @sizeOf to be the runtime size of a type, which means
    that it is zero for types such as comptime_int, type, and (enum
    literal). #2209
      </li>
      <li>Shawn Landden removed shebang (<code>#!</code>) support. #2165</li>
      <li>rylmovuk changed symbol name of tests in codegen. 
        Tests now have the symbol name of the format <code>test "&lt;name&gt;"</code> in order
        to be more easily distinguished from functions with similar names. #2267
      </li>
      <li>Dong-hee Na changed the CLI parameters
        <code>--enable-pic</code> and <code>--disable-pic</code> to <code>-fPIC</code> and
        <code>-fno-PIC</code>.</li>
      <li>When using @memset to set bytes to <code class="zig"><span class="tok-null">undefined</span></code>, Zig notices this
        case and does a single
        <a href="../0.4.0/release-notes.html#Valgrind-Compatibility">Valgrind client request</a> rather than
        N. Speeds up all allocators in safe modes. #2388
      </li>
      <li>
        LemonBoy implemented stack probes for x86/x86_64 on non-Windows operating systems.
        Windows already had stack probes. This feature guarantees stack overflow to result
        in a segmentation violation when a function has a very large stack frame in danger
        of skipping over the guard page.
      </li>
      <li>Added <code>--bundle-compiler-rt</code> linker option.</li>
      <li>Added compile error for attempt to cast enum literal to error. #2203</li>
      <li>When Zig crashes with an assertion failure, many assertions now will print the
        Zig source code location that was related to the compiler bug.
      This helps users work around compiler bugs and helps with producing small test cases for filing a bug
      report.</li>
      <li>Jimmi Holst Christensen contributed fixes and simplifications for stage 1 parser. This
      solved the grammar ambiguity with enum literals inside array literals and struct literals. #2235</li>
      <li>LemonBoy implemented validation for enum tags of extern enums.
        The C specification mandates the enum to be compatible with signed char, signed int or unsigned int.
        He also implemented support for signed types as enum tags.</li>
      <li>LemonBoy improved assembly compilation to use <code>zig cc</code> rather than concatenating
        all assembly blocks into one large string and handing that to LLVM. This fixed bugs as well as
        enabling C preprocessor support for assembly files.</li>
      <li>Fix static builds of zig from requiring C compiler to be installed when linking libc.
        <br><br>
    When zig links against libc, it requires a dynamic linker path.
    Usually this can be determined based on the architecture and operating
    system components of the target. However on some systems this is not
    correct; because of this zig checks its own dynamic linker.
        <br><br>
    When zig is statically linked, this information is not available, and so
    it resorts to using cc -print-filename=foo to find the dynamic linker
    path.
        <br><br>
    Before this change, Zig incorrectly exited with an error if there was
    no C compiler installed. Now, Zig falls back to the dynamic linker
    determined based on the arch and os when no C compiler can be found.
      </li>
      <li>LemonBoy added a warning for when run/test is paired with emit options.</li>
      <li>emekoi added Windows subsystem to <code class="zig"><span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>)</code>.</li>
      <li>mrkishi added cache-control headers to tarballs on CI, making downloads faster and
          saving server costs.</li>
      <li>Sahnvour implemented the Sfc64 RNG from PractRand.</li>
      <li>No more redundant safety check when switching on tagged unions. Should improve debug build
        performance by a tiny bit.</li>
      <li>Better CLI error message for missing sub-architecture.</li>
      <li><code>std/special/bootstrap.zig</code> is renamed to <code>std/special/start.zig</code>.
        This makes a bit more sense, and actually is kinda important to make sense because it shows
        up in stack traces. Further, the logic on whether to include this file is improved.</li>
      <li>Zig now prints the directory name if it fails to write to the cache directory. #2429</li>
      <li>Michael Dusan added the missing help for <code class="zig">--override-lib-dir</code>.</li>
      <li>There is now a <code>lib/</code> directory that mirrors the directory tree of installed files,
          and <code>std/</code> is moved into it appropriately. These changes led to
          <a href="#Self-Hosted-Installation-of-Library-Files">Self-Hosted Installation of Library Files</a>.</li>
      <li>daurnimator added a cmake option to allow user to select static vs dynamic LLVM.</li>
      <li>Zig now calculates alignment of types itself rather than relying on LLVM. This fixes
          alignment of 128-bit integers, which is needed for @cmpxchgWeak and @cmpxchgStrong to
          function correctly. It also is one step in the direction of Zig having another backend
          besides LLVM.</li>
      <li>In the stage1 C++ compiler, <code>AstNode</code> objects have a <code>src()</code> method
          to print the corresponding source file, line number, and column number. This is handy
          when using a debugger.</li>
      <li>Jonathan Marler improved the C++ stage1 compiler's internal BigInt API to assert on
        unexpected data loss from casting.</li>
      <li>Michael Dusan enhanced stage1 debug printing of Zig IR:<ul>
          <li>pass2 now prints missing instructions in a trailing fashion.</li>
          <li>instruction struct name added to print as column 2.</li>
          <li>print fn name in pass1.</li>
          <li>replace scalar with enum IrPass for clarity.</li>
        </ul>
      </li>
      <li>Added ability to specify darwin framework search dirs.</li>
      <li>The CLI now accepts <code>-l</code> parameters as an alias for <code>--library</code>. As
        an example, one may specify <code>-lc</code> rather than <code>--library c</code>.</li>
      <li>Sahnvour added <code>/debug:fastlink</code> when building with MSVC and debug info.</li>
      <li>LemonBoy improved the C++ stage1 compiler to recognize and skip the UTF-8 Byte Order Mark.</li>
      <li>ScorrMorr changed ZigList::append in the C++ stage1 compiler to pass param as ref. Appears
        to be about a 2% improvement in performance.</li>
      <li>daurnimator updated the C++ stage1 compiler to use <code>zig_panic</code> rather than
        having LLVM abort.</li>
      <li>When <code>--test-cmd</code> is provided to <code>zig test</code>, it will run it regardlesso
          of whether the binary is native. This enables, for example, testing with
          <a href="https://www.qemu.org/">QEMU</a>.</li>
      <li>Added <code>-D</code> CLI parameter for setting C preprocessor definitions.</li>
    </ul>

    <h2 id="Self-Hosted-d-File-Parsing"><a href="#toc-Self-Hosted-d-File-Parsing">Self-Hosted .d File Parsing</a> <a class="hdr" href="#Self-Hosted-d-File-Parsing">ยง</a></h2>

    <p>
    When Zig compiles C code (using <a href="#LLVM-9">libclang</a>), it automatically enables .d file
    generation so that Zig can learn the dependencies and do proper caching.
    </p>
    <p>
    Previously, Zig's .d file parser was written in C++ and a bit brittle. Michael Dusan dove
    head-first into this and implemented a robust .d file parser, in self-hosted Zig code,
    <a href="https://github.com/ziglang/zig/blob/0.5.0/src-self-hosted/dep_tokenizer.zig#L362-L836">complete with unit tests</a>.
    </p>
    <p>
    Unfortunately, there is still
    <a href="https://github.com/ziglang/zig/issues/2046">an open issue regarding this</a>,
    because the first line Clang outputs cannot be parsed unambiguously.
    <a href="https://bugs.llvm.org/show_bug.cgi?id=41379">Clang Bug Report</a>.
    If you, the reader of these release notes, are a Clang developer, please fix ๐
    </p>
    

    <h2 id="Binary-Size"><a href="#toc-Binary-Size">Binary Size</a> <a class="hdr" href="#Binary-Size">ยง</a></h2>

    <p><code class="zig"><span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>)</code> gained <code class="zig">strip_debug_info</code> which is
    a <code class="zig"><span class="tok-kw">comptime</span> <span class="tok-type">bool</span></code> value telling whether <code>--strip</code> was passed to the
    compiler.</p>
    <p>
    This makes Zig code aware <em>at compile-time</em> of when it will not have any debug information
    available at runtime. The standard library now takes advantage of this to avoid Zig binaries containing
    useless debug info code.
    </p>
    <p>This, along with Timon Kruiper's contribution of enabling the equivalent of
    <code>-ffunction-sections</code> in Zig's LLVM codegen, resulted in tiny
    <a href="https://ziglang.org/documentation/0.5.0/#ReleaseSmall">ReleaseSmall</a> binaries:
    <p class="file">hello.zig</p>
    <pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() <span class="tok-type">void</span> {
    std.debug.warn(<span class="tok-str">&quot;Hello, World!\n&quot;</span>);
}</code></pre>
    <pre><code class="shell">$ zig build-exe hello.zig --release-small --strip --single-threaded
$ ./hello 
Hello, World!
$ ls -ahl ./hello
-rwxr-xr-x 1 andy users 10K Sep 26 15:56 ./hello
$ ldd ./hello
  not a dynamic executable</code></pre>
    <p>The Windows build is even smaller:</p>
    <pre><code class="shell">$ zig build-exe hello.zig --release-small --strip --single-threaded -target x86_64-windows
$ wine64 ./hello.exe 
Hello, World!
$ ls -ahl ./hello.exe 
-rwxr-xr-x 1 andy users 3.0K Sep 26 15:57 ./hello.exe</code></pre>
    <p>
    Zig's ability to create tiny executables is especially attractive for <a href="#WebAssembly-Support">WebAssembly</a>.
    </p>
    

    <h2 id="Self-Hosted-Installation-of-Library-Files"><a href="#toc-Self-Hosted-Installation-of-Library-Files">Self-Hosted Installation of Library Files</a> <a class="hdr" href="#Self-Hosted-Installation-of-Library-Files">ยง</a></h2>

    <p>
    Previously, when editing source files, it was required to <code>make install</code>
    (<code>msbuild -p:Configuration=Release INSTALL.vcxproj</code> on Windows) in order
    to test changes. This used cmake's <code>install()</code> function for all the library files,
    such as the <a href="#Standard-Library">Standard Library</a>, as well as the <a href="#libc">libc</a> files that Zig
    ships with. Unfortunately, this printed something like this every time:
    </p>
    <pre><code>-- Installing: /home/andy/dev/zig/build/lib/zig/std/array_list.zig
-- Installing: /home/andy/dev/zig/build/lib/zig/std/ascii.zig
-- Installing: /home/andy/dev/zig/build/lib/zig/std/atomic/int.zig
(...snip...)</code></pre>
    <p><em>...for all 6,091 lib files</em>. Even when the files are already installed,
    it would print:
    </p>
    <pre><code>-- Up-to-date: /home/andy/dev/zig/build/lib/zig/std/array_list.zig
-- Up-to-date: /home/andy/dev/zig/build/lib/zig/std/ascii.zig
-- Up-to-date: /home/andy/dev/zig/build/lib/zig/std/atomic/int.zig
(...snip...)</code></pre>
    <p>There is no way to disable this in cmake. This caused <code>make install</code>
    on my Linux computer to take 2.4 seconds even when it has to do nothing, and prints all these
    unnecessary lines to stdout. On my Windows it took even longer, upwards of 5 seconds.
    </p>
    <p>
    Now, installation of lib files is self-hosted, using <a href="#zig-build">zig build</a>. Running
    <code>make</code> when there is nothing to do takes 0.3 seconds on my Linux computer;
    2.4 on Windows.
    </p>
    <p>Unfortunately, lib file installation
    happens in the <code>make</code> target instead of the <code>make install</code> target, because
    cmake has no way to add a custom command to the install target. So that's why Zig now has the
    option <code>-DZIG_SKIP_INSTALL_LIB_FILES=ON</code>, which is recommended to enable for
    contributors to Zig. It's off by default because otherwise installing Zig would be missing
    library files. However when contributing to Zig, running the <code>zig</code> binary from
    the build directory will search upwards for library files and find them directly in the source tree.
    This means one can directly edit the <a href="#Standard-Library">Standard Library</a> in the source tree, and changes
    will be picked up without needing to run <code>make</code> at all.
    </p>
    
    

    <h1 id="Bug-Fixes"><a href="#toc-Bug-Fixes">Bug Fixes</a> <a class="hdr" href="#Bug-Fixes">ยง</a></h1>

    <ul>
      <li>Shritesh Bhattarai fixed zig run not passing the exec path.</li>
      <li>Fixed 128-bit integer multiplication on Windows.</li>
      <li>LemonBoy fixed comptime shift-right. #2225</li>
      <li>
        Ben Noordhuis fixed an error with the cache system where it would incorrectly
        close the cache file descriptor, causing a file descriptor race condition when
        the descriptor got reused, leading to:
        <pre>Warning: Unable to write cache file [..]: unexpected seek failure</pre>
        Ben took care to make os_file_close poison the file handle
        after closing, to help track down future use-after-close bugs.
      </li>
      <li>Fixed issue with @setEvalBranchQuota causing assertion failure. #2261</li>
      <li>Fixed Debug mode when error return tracing is off. #2276</li>
      <li>Ryan Liptak fixed DirectAllocator not unmapping unused pages on large alignments. #2306</li>
      <li>Ryan Liptak fixed heap allocators when shrinking an object but growing its alignment.</li>
      <li>Ryan Liptak fixed aligned reallocs on Windows with std.heap.DirectAllocator.</li>
      <li>hryx fixed tag expression incorrectly being accepted for structs.</li>
      <li>Michael Dusan added <code>-fvisibility-inlines-hidden</code> to the build flags. 
      On macOS building with Xcode/clang the linker complains loudly when
      symbol visibility is inconsistent. This option syncs visibilty setting
      of both LLVM and Zig.
      </li>
      <li>tgschultz spotted and LemonBoy fixed Undefined Behavior invoked in the compiler's internal BigInt
        right shift operation.</li>
      <li>Fixed path canonicalization when $HOME has a trailing slash.</li>
      <li>Shritesh Bhattarai fixed docgen not properly closing tags for skipped execs.</li>
      <li>LemonBoy fixed generation of container initializers. #1636 #1608</li>
      <li>Matt Stancliff fixed a crash in command line argument parsing.</li>
      <li>LemonBoy fixed erroneous test case regarding <code class="zig">std.io.InStream</code>.</li>
      <li>Michael Dusan fixed compile error for loop expr val ignored. #2460</li>
      <li>Fix hang for some compile errors. #2467</li>
      <li>LemonBoy fixed <code>clock_gettime</code> on Linux systems without VDSO.</li>
      <li>daurnimator fixed <code>std.heap.FailingAllocator</code> not counting allocations.</li>
      <li>Tyler Philbrick fixed a memory leak in parser tests. See the
        <a href="https://github.com/ziglang/zig/commit/16aee1f58a80295f7599a8290d764a5c7040c373">commit message</a>
        for a nice explanation.
      </li>
      <li>LemonBoy fixed fixed formatting for multiline asm expressions.</li>
      <li>Sam Tebbs fixed zig crashing after a tokenization error.</li>
      <li>LemonBoy fixed VDSO calls not using the C calling convention.</li>
      <li>LemonBoy fixed load/store of non-integer fields in packed struct.</li>
      <li>LemonBoy fixed too eager comptime evaluation of error ptr.</li>
      <li>LemonBoy fixed build-lib on macOS. Due to a typo, Zig was not setting <code>K_DARWIN</code>
      as expected on the archive file. This allowed removing macOS-specific linking hacks.</li>
      <li>LemonBoy fixed signedness mismatch in comparison in os.cpp.</li>
      <li>emekoi fixed Zig not respecting the subsystem flag in all cases.</li>
      <li>Fix invalid LLVM IR generated for <code class="zig">?*<span class="tok-type">void</span></code> const casts. #2578</li>
      <li>LemonBoy fixed a crash when there are no namespace components. #2500</li>
      <li>LemonBoy added a compile error for <code class="zig"><span class="tok-null">undefined</span></code> used as a type. #2436</li>
      <li>Nick Erdmann fixed debug rendering of character literals &lt;= 0x0f.</li>
      <li>Sam Tebbs added a parser check for null body in <code class="zig"><span class="tok-kw">if</span></code>, <code class="zig"><span class="tok-kw">for</span></code>,
        and <code class="zig"><span class="tok-kw">while</span></code>.</li>
      <li>Fixed @export not working for arrays, and allow specifying link sections on <code class="zig"><span class="tok-kw">extern</span></code>
        variables. Additionally fixed @export not respecting the name parameter. Previously, the variable
        name would be used instead. #2679</li>
      <li>Fixed compiler crash due to not resolving alignment of child types when slicing
          if custom alignment is provided.</li>
      <li>Fixed compiler crash with @typeInfo on extern lib name.</li>
      <li>Jonathan Marler fixed duplicate exe name with <code>zig run</code>.</li>
      <li>Jonathan Marler fixed Windows create process retry/path search.</li>
      <li>joachimschmidt557 fixed <code class="zig">std.atomic.Queue.isEmpty</code>.</li>
      <li>Matthew Murray fixed a regression with <code class="zig">std.math.absFloat</code> and added tests.</li>
      <li>Michael Dusan fixed a compile error when building zig with Clang.</li>
      <li>Luna provided a quickfix on non-existing <code class="zig">std.net.Address.family</code>.</li>
      <li>Compile error for using slice as array init expr type when there are more than 0 elements. #2764</li>
      <li>Fixed <code class="zig"><span class="tok-kw">switch</span></code> with <code class="zig"><span class="tok-null">null</span></code> and T peer types and inferred result location type. #2762</li>
      <li>Fixed <code class="zig"><span class="tok-kw">for</span></code> with <code class="zig"><span class="tok-null">null</span></code> and T peer types and inferred result location type. #2762</li>
      <li>Michael Dusan fixed a stack escape in <code>add_source_file()</code>.</li>
      <li>Added missing compile error for comptime continue inside runtime catch. #2604</li>
      <li>dimenus fixed regression with static linking against MSVCRT. #2064</li>
      <li>Michael Dusan fixed a bug with array multiplication and functions in comptime blocks. #2916</li>
      <li>Michael Dusan fixed assigning an array with a non-const element value to another array (or vector) causing a segfault. #2942</li>
      <li>Michael Dusan updated <code class="zig">std.rb.Node.getParent</code> to return optional, fixing #2962.</li>
      <li>Ryan Saunderson modiifed header precedence for <code>zig cc</code>,
          resolves intrinsics issues. #3027</li>
      <li>Fixed enum with one member and custom tag type.</li>
      <li>Fixed build errors due to vendored LLD being incorrectly dynamically linked.</li>
      <li>yvt corrected LLVM subarch names for ARM.</li>
      <li>Vexu added a compile error for incorrect atomic ordering in @fence. #3082</li>
      <li>Nick Erdmann corrected the error message when dependency requires Position Independent Code.</li>
      <li>Fixed <code>build-obj</code> not working with C files that use libc. #3093</li>
      <li>Fixed assigning a struct into an array defined using <code>**</code> causing a segfault when run. #3095</li>
      <li>Fixed <code class="zig"><span class="tok-type">void</span></code> array as a local variable initializer. #1767</li>
      <li>Michael Dusan fixed @bitCast segfault with literal array param. #3010</li>
      <li>Fixed @bitCast of packed struct literal. #3042</li>
      <li>Timon Kruiper added compiler error when variable in asm template cannot be found. #3030</li>
      <li>Euan Torano fixed <code class="zig">std.os.getrandom</code> not filling the entire buffer when
        requesting larger than a 32-bit integer. #3012</li>
      <li>Jonathan Marler fixed a regression with the way LLVM types are handled causing a compiler
        crash (#3058). He notes:<br>
        <blockquote>
One interesting thing here is that if the compiler was written in Zig this bug likely never would have happened as Zig would protect you from dereferencing a NULL pointer like this. The tag_type field would either be an optional type which would require testing for NULL before using it, or it wouldn't be optional and couldn't be set or initialized to NULL.
        </blockquote> 
      </li>
      <li>Fixed implicit cast from zero sized array ptr to slice. #1850</li>
      <li>Michael Dusan fixed stage1 build regression on macOS + xcode/clang.</li>
      <li>Michael Dusan improved building Zig from tarball source rather than git repository.<ul>
          <li>quiet <code>fatal: not a git repository</code> message.</li>
          <li>if git probe fails skip ZIG_VERSION modification.</li>
        </ul>
      </li>
      <li>Vesa Kaihlavirta fixed some test cases of <code class="zig">std.fmt.parseFloat</code> not parsing
        correctly.</li>
      <li>LemonBoy fixed lazy values not getting resolved when checking for definedness. #3154</li>
      <li>LemonBoy fixed assertions tripped from not resolving struct field types. #3143</li>
      <li>Timon Kruiper added compile error when shifting amount is not an int type.</li>
      <li>The C++ stage1 compiler now raises the maximum file descriptor limit by doing a
        binary search for the maximum <code>RLIMIT_NOFILE</code>. Patch lifted from node.js commit
        <a href="https://github.com/nodejs/node/commit/6820054d2d4">6820054d2d42ff9274ea0755bea59cfc4f26f353</a>.
        Thanks to Ben Noordhuis for the suggestion and patch.</li>
      <li>Timon Kruiper added compiler error when negating invalid type.</li>
      <li>emekoi fixed compiler error for gcc 9.2.0.</li>
      <li>Sahnvour added a compile error forbidding opaque types in function return types.</li>
      <li>LemonBoy forced LLVM to generate byte-aligned packed unions. Sometimes the frontend
        and LLVM would disagree on the ABI alignment of a packed union. Solve the problem by
        telling LLVM we're gonna manage the struct layout by ourselves. #3184</li>
      <li>LemonBoy made @cDefine accept <code class="zig"><span class="tok-type">void</span></code> argument. #2612</li>
      <li>LemonBoy resolved lazy arguments passed to @compileLog. #3193</li>
      <li>Michael Dusan fixed build on macOS + xcode + clang.</li>
      <li>LemonBoy corrected <code>AT_FDCWD</code> definition.</li>
      <li>Michael Dusan fixed gcc 9.1.0 compiler error.</li>
      <li>Timon Kruiper fixed comptime bitcast inside an expression.</li>
      <li>Sahnvour added compile error rejecting types of automatic container layout in packed unions.</li>
      <li>Fixed invalid <code>tail</code> attribute for @panic causing undefined behavior in the stage1
          C++ compiler when it hit asserts, causing it to print garbage memory to the terminal. #3262</li>
      <li>LemonBoy fixed generation of tail fields for <code class="zig"><span class="tok-kw">packed</span> <span class="tok-kw">struct</span></code>.</li>
      <li>LemonBoy corrected stack alignment for new stack.</li>
      <li>Michael Dusan fixed lost argv[0] in stage1 C++ compiler, manifesting on
        <a href="#FreeBSD-Support">FreeBSD</a> when using <code>zig cc</code>.</li>
      <li>Fix regression causing stage1 C++ compiler crash regarding external types.</li>
      <li>LemonBoy fixed computation of switch coverage. #3258</li>
      <li>LemonBoy fixed crash with invalid extern type. #3240</li>
      <li>Jay Weisskopf made zig create the user-specified <code>output-dir</code> if it does not exist.
        #2637</li>
      <li>LemonBoy fixed assignment to optional payload. #3081</li>
      <li>LemonBoy fixed llseek behavior.</li>
      <li>LemonBoy <code class="zig"><span class="tok-kw">usingnamespace</span></code> causing error for redeclaration for the same var
        node. #3316</li>
      <li>LemonBoy added safety for truncating <code>mmap2</code> offsets if not multiple of page size.</li>
      <li>LemonBoy corrected calculation of padding length in struct, making sure the resulting type is
        in-sync with the one produced and used by LLVM. #3138</li>
    </ul>

    <h2 id="This-Release-Contains-Bugs"><a href="#toc-This-Release-Contains-Bugs">This Release Contains Bugs</a> <a class="hdr" href="#This-Release-Contains-Bugs">ยง</a></h2>

    <p>
    Zig has <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.5.0, working on a non-trivial project using Zig will likely mean
    participating in the development process.</p>
    <p>The first release that will ship with no known bugs will be 1.0.0.</p>
    
    

    <h1 id="Roadmap"><a href="#toc-Roadmap">Roadmap</a> <a class="hdr" href="#Roadmap">ยง</a></h1>

    TODO
- aliasing
- interface/oop/vtable

    <h2 id="Package-Manager-Status"><a href="#toc-Package-Manager-Status">Package Manager Status</a> <a class="hdr" href="#Package-Manager-Status">ยง</a></h2>

    <p>
    TODO
    </p>
    

    <h2 id="Accepted-Proposals"><a href="#toc-Accepted-Proposals">Accepted Proposals</a> <a class="hdr" href="#Accepted-Proposals">ยง</a></h2>

    <p>Here are proposals that have been accepted during the 0.5.0 release cycle,
    to give you an idea of the upcoming changes to Zig:</p>
    <ul>
    <li><a href="https://github.com/ziglang/zig/issues/1284">Saturating arithmetic</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/1717">Make function definitions expressions</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/1757">make implicit cast syntax different than function call syntax</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/1770">wrapping negation -% should work on unsigned ints</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/1907">introduce operating system versions as part of the target</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2022">support top level fields</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2067">add implicit cast from [*c]T to E!*T</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2097">allow unicode characters in character literals</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2292">Allocator interface: make shrinkFn optional</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2402">terminology update: use the phrase "detectable illegal behavior" rather than "safety-checked undefined behavior"</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2442">Add a way to globally have @setFloatMode set for the whole project</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2586">introduce the concept of "logging" to the standard library</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2698">@reduce builtin for turning a SIMD vector into a scalar value</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/2984">make the C pointer type always a compile error unless the file declares that it is generated code</a></li>
    <li><a href="https://github.com/ziglang/zig/issues/3182">Allow COFF output for freestanding target</a></li>
    </ul>
    
    

    <h1 id="Active-Open-Source-Projects-Using-Zig"><a href="#toc-Active-Open-Source-Projects-Using-Zig">Active Open-Source Projects Using Zig</a> <a class="hdr" href="#Active-Open-Source-Projects-Using-Zig">ยง</a></h1>

    <ul>
      <li><a href="https://dbandstra.github.io/oxid/">Oxid</a> - an arcade-style game where you fight waves of monsters in a fixed-screen maze.</li>
      <li><a href="https://donpdonp.github.io/zootdeck/">zootdeck</a> - the linux desktop fediverse reader.</li>
      <li><a href="https://fengb.github.io/fundude/">FUNโDUDE</a> - WebAssembly Gameboy emulator.</li>
      <li><a href="https://github.com/SamTebbs33/pluto">pluto</a> - kernel written almost entirely in Zig and supports x86, with aarch64 and x64 backends being planned.</li>
      <li><a href="https://github.com/nrdmn/uefi-paint">UEFI-paint</a> - UEFI-bootable touch paint app.</li>
      <li><a href="https://github.com/markfirmware/zig-bare-metal-raspberry-pi">zig-bare-metal-raspberry-pi</a> - demo bare-metal raspberry pi program written in zig.</li>
      <li><a href="https://wolfesoftware.com/legend-of-swarkland/">Legend of Swarkland</a> - Hack-n-slash roguelike inspired by NetHack.</li>
      <li><a href="https://prismjs.com/">PrismJS</a>
        <a href="https://github.com/PrismJS/prism/pull/2019">now supports Zig</a> - JavaScript-based syntax highlighter for web pages.</li>
    </ul>
    

    <h1 id="Funding-Status"><a href="#toc-Funding-Status">Funding Status</a> <a class="hdr" href="#Funding-Status">ยง</a></h1>

    TODO switched to GitHub Sponsors
    TODO funding is stable; it seems probable that I'll be able to continue to work full time on Zig without burning down my savings. no health insurance yet.
    TODO shout out to Devon Zuegel. It's pretty clear she's going above and beyond what's professionally
         required of her to help people get sponsored.
    TODO there is more than enough work for 2 full-time developers on Zig, even just merging pull requests
         at this point is a full time job.
    TODO I'm planning on starting Zig Software Foundation non-profit org. Looking for recommendations for a lawyer
         who would help me set this up.
    

    <h1 id="Thank-You-Sponsors"><a href="#toc-Thank-You-Sponsors">Thank You Sponsors!</a> <a class="hdr" href="#Thank-You-Sponsors">ยง</a></h1>

    <p>
    Special thanks to those who <a href="https://github.com/users/andrewrk/sponsorship">sponsor Zig</a>.
    Because of you, Zig is not driven by the needs of a business; instead it exists solely to serve
    the open source community.
    </p>
    <ul style="columns: 3">
      <li><a href="https://www.hryx.net/">Stevie Hryciw</a></li>
      <li><a href="https://github.com/mbarkhau">mbarkhau</a></li>

      <li><a href="https://wesleyhill.co.uk/">Wesley Hill</a></li>
      <li><a href="https://github.com/419928194516">419928194516</a></li>
      <li><a href="https://github.com/vegai">Vesa Kaihlavirta</a></li>
      <li><a href="https://github.com/THFKA4">THFKA4</a></li>
      <li><a href="https://github.com/ryanworl">ryanworl</a></li>
      <li><a href="https://github.com/iohzrd">iohzrd</a></li>
      <li><a href="https://ross.codes/">Ross Kilgariff</a></li>
      <li><a href="https://github.com/Bakhazard">Donald Harris</a></li>
      <li><a href="http://severnatazvezda.com/">Rickard Andersson</a></li>

      <li><a href="https://blog.filippo.io/hi">Filippo Valsorda</a></li>
      <li><a href="http://lahoda.pro/">Dzmitry Lahoda</a></li>
      <li><a href="https://github.com/overdew">Jeff Kelley</a></li>
      <li><a href="https://tav.dev/">tav</a></li>
      <li><a href="https://github.com/karrick">Karrick McDermott</a></li>
      <li><a href="https://shr.ite.sh/">Shritesh</a></li>
      <li><a href="https://dawnarc.com/">Neil Wang</a></li>
      <li><a href="https://github.com/qbradley">qbradley</a></li>
      <li><a href="http://zfeldman.com/">Zach Feldman</a></li>
      <li><a href="https://github.com/Sticksman">Felix Yuan</a></li>
      <li><a href="http://xyke.com/">Sean Jense</a></li>
      <li><a href="https://github.com/mschwaig">mschwaig</a></li>
      <li><a href="https://jayschwa.net/">Jay Weisskopf</a></li>
      <li><a href="http://champyen.blogspot.tw/">Champ Yen</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://joshtob.in/">Josh Tobin</a></li>

      <li>Charles Palmer</li>
      <li>Yaroslav Zhavoronkov</li>
      <li>Christoffer Rasmussen</li>
      <li>Ashe Connor</li>
      <li>Jesse Meyer</li>
      <li>Simon Cruanes</li>
      <li>tschaei</li>
      <li>Omar Akkila</li>
      <li>rtroberts</li>
      <li>S-D-</li>
      <li>BenoitJGirard</li>
      <li>Jason Merrill</li>
      <li>Mitch Small</li>
      <li>dbandstra</li>
      <li>Brian Orr</li>
      <li>RaniSharim</li>
      <li>Steve Perkins</li>
      <li>redj</li>
      <li>Jeff Fowler</li>
      <li>John Schmidt</li>
      <li>via</li>
      <li>Jimmy Zelinskie</li>
      <li>Brian Mitchell</li>
      <li>Dan Boykis</li>
      <li>Mirek Rusin</li>
      <li>Audun Wilhelmsen</li>
      <li>Vladimir Vissoultchev</li>
      <li>Neil Henning</li>
      <li>Thomas Ballinger</li>
      <li>Lukas Attridge</li>
      <li>Steve Ray</li>
      <li>Will Sommers</li>
      <li>Jethro Nederhof</li>
      <li>Jack Halford</li>
      <li>Hong Shick Pak</li>
      <li>Jimmi Holst Christensen</li>
      <li>Haze Booth</li>
      <li>Johann Muszynski</li>
      <li>Eric</li>
      <li>Luis Alfonso Higuera Gamboa</li>
      <li>ลukasz Adamczak</li>
      <li>Clement 'cmc' Rey</li>
      <li>Hasan Yasin รztรผrk</li>
      <li>Abdulrhman A. AlKhodiry</li>
      <li>Emily A. Bellows</li>
    </ul>
    
    </div>
  </body>
</html>


TODO search for @builtinFunctions and replace with links to docs.
TODO replace #xyz with issue links
TODO change documentation links from master to 0.5.0
TODO look at a diff of lang ref from 0.4.0..0.5.0 and do the improved/updated thing from 0.4.0 release notes
TODO give emekoi credit for maintaining sublime text syntax
TODO search for "commit" to make sure no more git commit logs in this document
TODO run the HTML through an html validator, I probably messed up some tags

commit 611d4bc6a1a99f4364b690dea688e81dd599daae
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Sun Apr 14 22:47:53 2019 -0400

    stage1: const_values_equal support tagged union


commit 99ee0608f74268248a2dc684cb9e6e9b03e3a9f5
Author: Sahnvour <sahnvour@pm.me>
Date:   Sat May 25 14:17:59 2019 +0200

    gen-h: do not output visibility macros when the build is static

commit 2d85ff94653457ea12cd9ab0984ab3b13c9b41e5
Author: emekoi <emekankurumeh@outlook.com>
Date:   Mon Jul 1 00:27:55 2019 -0500

    added invalid switch prong error
    
    added error for switch prong with different payloads and support for capturing payload on switch prongs with payloads of the same type

    added tests for #1107 and a note in the reference



commit 4a5b0cde1330e0410612838a42dad62cc30b0e92
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Sep 2 20:28:25 2019 -0400

    fix const result loc, runtime if cond, else unreachable
    
    Closes #2791. See that issue for more details; I documented the
    debugging process quite thoroughly on this one.

